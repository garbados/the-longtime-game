// Compiled by ClojureScript 1.11.60 {:target :nodejs, :nodejs-rt false, :optimizations :none}
goog.provide('the_longtime_game.project');
goog.require('cljs.core');
goog.require('cljs.spec.alpha');
goog.require('cljs.spec.gen.alpha');
goog.require('clojure.string');
goog.require('the_longtime_game.building');
goog.require('the_longtime_game.core');
goog.require('the_longtime_game.select');
goog.require('the_longtime_game.space_text');
goog.require('the_longtime_game.text');
the_longtime_game.project.base_need = (50);
the_longtime_game.project.low_need = (10);
the_longtime_game.project.earlygame_skill = (10);
the_longtime_game.project.midgame_skill = (100);
the_longtime_game.project.endgame_skill = (1000);
the_longtime_game.project.skill__GT_multiplier = (function the_longtime_game$project$skill__GT_multiplier(skill_amount){
return Math.log10((skill_amount + (1)));
});
the_longtime_game.project.flora_bonus = (function the_longtime_game$project$flora_bonus(p1__2983_SHARP_){
return new cljs.core.Keyword(null,"flora","flora",1421964825).cljs$core$IFn$_invoke$arity$1(the_longtime_game.core.current_location.call(null,p1__2983_SHARP_));
});
the_longtime_game.project.flora_filter = (function the_longtime_game$project$flora_filter(p1__2984_SHARP_){
var location__$1 = the_longtime_game.core.current_location.call(null,p1__2984_SHARP_);
return (((new cljs.core.Keyword(null,"flora","flora",1421964825).cljs$core$IFn$_invoke$arity$2(location__$1,(0)) > (0))) && (new cljs.core.Keyword(null,"depleted?","depleted?",346115752).cljs$core$IFn$_invoke$arity$1(location__$1) === false));
});
the_longtime_game.project.deplete_land = (function the_longtime_game$project$deplete_land(p1__2985_SHARP_){
return cljs.core.assoc.call(null,p1__2985_SHARP_,new cljs.core.Keyword(null,"depleted?","depleted?",346115752),true);
});
the_longtime_game.project.trade_factory = (function the_longtime_game$project$trade_factory(resource,x,n,m){
return (function (herd){
var floor = ((x / n) | (0));
var roll = ((x / (cljs.core.rand_int.call(null,m) + (1))) | (0));
return cljs.core.update_in.call(null,herd,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"stores","stores",1203804823),resource], null),cljs.core._PLUS_,floor,roll);
});
});
the_longtime_game.project.construction_projects = (function (){var iter__5523__auto__ = (function the_longtime_game$project$iter__2986(s__2987){
return (new cljs.core.LazySeq(null,(function (){
var s__2987__$1 = s__2987;
while(true){
var temp__5804__auto__ = cljs.core.seq.call(null,s__2987__$1);
if(temp__5804__auto__){
var s__2987__$2 = temp__5804__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__2987__$2)){
var c__5521__auto__ = cljs.core.chunk_first.call(null,s__2987__$2);
var size__5522__auto__ = cljs.core.count.call(null,c__5521__auto__);
var b__2989 = cljs.core.chunk_buffer.call(null,size__5522__auto__);
if((function (){var i__2988 = (0);
while(true){
if((i__2988 < size__5522__auto__)){
var vec__2990 = cljs.core._nth.call(null,c__5521__auto__,i__2988);
var name_STAR_ = cljs.core.nth.call(null,vec__2990,(0),null);
var map__2993 = cljs.core.nth.call(null,vec__2990,(1),null);
var map__2993__$1 = cljs.core.__destructure_map.call(null,map__2993);
var description = cljs.core.get.call(null,map__2993__$1,new cljs.core.Keyword(null,"description","description",-1428560544));
var detail = cljs.core.get.call(null,map__2993__$1,new cljs.core.Keyword(null,"detail","detail",-1545345025));
var uses = cljs.core.get.call(null,map__2993__$1,new cljs.core.Keyword(null,"uses","uses",232664692));
var filter = cljs.core.get.call(null,map__2993__$1,new cljs.core.Keyword(null,"filter","filter",-948537934));
var filter_fn = cljs.core.get.call(null,map__2993__$1,new cljs.core.Keyword(null,"filter-fn","filter-fn",1689475675));
var text_fn = cljs.core.get.call(null,map__2993__$1,new cljs.core.Keyword(null,"text-fn","text-fn",1202470087));
cljs.core.chunk_append.call(null,b__2989,(function (){var G__2994 = new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"name","name",1843675177),["Construct ",the_longtime_game.text.normalize_name.call(null,name_STAR_)].join(''),new cljs.core.Keyword(null,"description","description",-1428560544),description,new cljs.core.Keyword(null,"detail","detail",-1545345025),detail,new cljs.core.Keyword(null,"uses","uses",232664692),(((uses == null))?new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"craftwork","craftwork",-905870327),null], null), null):(((uses instanceof cljs.core.Keyword))?cljs.core.PersistentHashSet.createAsIfByAssoc([new cljs.core.Keyword(null,"craftwork","craftwork",-905870327),uses]):((cljs.core.seq.call(null,uses))?uses:null))),new cljs.core.Keyword(null,"filter","filter",-948537934),filter,new cljs.core.Keyword(null,"filter-fn","filter-fn",1689475675),((function (i__2988,vec__2990,name_STAR_,map__2993,map__2993__$1,description,detail,uses,filter,filter_fn,text_fn,c__5521__auto__,size__5522__auto__,b__2989,s__2987__$2,temp__5804__auto__){
return (function (herd){
var location__$1 = the_longtime_game.core.current_location.call(null,herd);
var and__5043__auto__ = (!(cljs.core.contains_QMARK_.call(null,new cljs.core.Keyword(null,"infra","infra",-2137779843).cljs$core$IFn$_invoke$arity$1(location__$1),name_STAR_)));
if(and__5043__auto__){
var and__5043__auto____$1 = (the_longtime_game.core.max_buildings > cljs.core.count.call(null,new cljs.core.Keyword(null,"infra","infra",-2137779843).cljs$core$IFn$_invoke$arity$1(location__$1)));
if(and__5043__auto____$1){
if(cljs.core.truth_(filter_fn)){
return filter_fn.call(null,herd);
} else {
return true;
}
} else {
return and__5043__auto____$1;
}
} else {
return and__5043__auto__;
}
});})(i__2988,vec__2990,name_STAR_,map__2993,map__2993__$1,description,detail,uses,filter,filter_fn,text_fn,c__5521__auto__,size__5522__auto__,b__2989,s__2987__$2,temp__5804__auto__))
,new cljs.core.Keyword(null,"location-effect","location-effect",-1371252676),((function (i__2988,vec__2990,name_STAR_,map__2993,map__2993__$1,description,detail,uses,filter,filter_fn,text_fn,c__5521__auto__,size__5522__auto__,b__2989,s__2987__$2,temp__5804__auto__){
return (function (location){
return cljs.core.update.call(null,location,new cljs.core.Keyword(null,"infra","infra",-2137779843),cljs.core.conj,name_STAR_);
});})(i__2988,vec__2990,name_STAR_,map__2993,map__2993__$1,description,detail,uses,filter,filter_fn,text_fn,c__5521__auto__,size__5522__auto__,b__2989,s__2987__$2,temp__5804__auto__))
], null);
if(cljs.core.truth_(text_fn)){
return cljs.core.assoc.call(null,G__2994,new cljs.core.Keyword(null,"text-fn","text-fn",1202470087),text_fn);
} else {
return G__2994;
}
})());

var G__3000 = (i__2988 + (1));
i__2988 = G__3000;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__2989),the_longtime_game$project$iter__2986.call(null,cljs.core.chunk_rest.call(null,s__2987__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__2989),null);
}
} else {
var vec__2995 = cljs.core.first.call(null,s__2987__$2);
var name_STAR_ = cljs.core.nth.call(null,vec__2995,(0),null);
var map__2998 = cljs.core.nth.call(null,vec__2995,(1),null);
var map__2998__$1 = cljs.core.__destructure_map.call(null,map__2998);
var description = cljs.core.get.call(null,map__2998__$1,new cljs.core.Keyword(null,"description","description",-1428560544));
var detail = cljs.core.get.call(null,map__2998__$1,new cljs.core.Keyword(null,"detail","detail",-1545345025));
var uses = cljs.core.get.call(null,map__2998__$1,new cljs.core.Keyword(null,"uses","uses",232664692));
var filter = cljs.core.get.call(null,map__2998__$1,new cljs.core.Keyword(null,"filter","filter",-948537934));
var filter_fn = cljs.core.get.call(null,map__2998__$1,new cljs.core.Keyword(null,"filter-fn","filter-fn",1689475675));
var text_fn = cljs.core.get.call(null,map__2998__$1,new cljs.core.Keyword(null,"text-fn","text-fn",1202470087));
return cljs.core.cons.call(null,(function (){var G__2999 = new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"name","name",1843675177),["Construct ",the_longtime_game.text.normalize_name.call(null,name_STAR_)].join(''),new cljs.core.Keyword(null,"description","description",-1428560544),description,new cljs.core.Keyword(null,"detail","detail",-1545345025),detail,new cljs.core.Keyword(null,"uses","uses",232664692),(((uses == null))?new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"craftwork","craftwork",-905870327),null], null), null):(((uses instanceof cljs.core.Keyword))?cljs.core.PersistentHashSet.createAsIfByAssoc([new cljs.core.Keyword(null,"craftwork","craftwork",-905870327),uses]):((cljs.core.seq.call(null,uses))?uses:null))),new cljs.core.Keyword(null,"filter","filter",-948537934),filter,new cljs.core.Keyword(null,"filter-fn","filter-fn",1689475675),((function (vec__2995,name_STAR_,map__2998,map__2998__$1,description,detail,uses,filter,filter_fn,text_fn,s__2987__$2,temp__5804__auto__){
return (function (herd){
var location__$1 = the_longtime_game.core.current_location.call(null,herd);
var and__5043__auto__ = (!(cljs.core.contains_QMARK_.call(null,new cljs.core.Keyword(null,"infra","infra",-2137779843).cljs$core$IFn$_invoke$arity$1(location__$1),name_STAR_)));
if(and__5043__auto__){
var and__5043__auto____$1 = (the_longtime_game.core.max_buildings > cljs.core.count.call(null,new cljs.core.Keyword(null,"infra","infra",-2137779843).cljs$core$IFn$_invoke$arity$1(location__$1)));
if(and__5043__auto____$1){
if(cljs.core.truth_(filter_fn)){
return filter_fn.call(null,herd);
} else {
return true;
}
} else {
return and__5043__auto____$1;
}
} else {
return and__5043__auto__;
}
});})(vec__2995,name_STAR_,map__2998,map__2998__$1,description,detail,uses,filter,filter_fn,text_fn,s__2987__$2,temp__5804__auto__))
,new cljs.core.Keyword(null,"location-effect","location-effect",-1371252676),((function (vec__2995,name_STAR_,map__2998,map__2998__$1,description,detail,uses,filter,filter_fn,text_fn,s__2987__$2,temp__5804__auto__){
return (function (location){
return cljs.core.update.call(null,location,new cljs.core.Keyword(null,"infra","infra",-2137779843),cljs.core.conj,name_STAR_);
});})(vec__2995,name_STAR_,map__2998,map__2998__$1,description,detail,uses,filter,filter_fn,text_fn,s__2987__$2,temp__5804__auto__))
], null);
if(cljs.core.truth_(text_fn)){
return cljs.core.assoc.call(null,G__2999,new cljs.core.Keyword(null,"text-fn","text-fn",1202470087),text_fn);
} else {
return G__2999;
}
})(),the_longtime_game$project$iter__2986.call(null,cljs.core.rest.call(null,s__2987__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__5523__auto__.call(null,the_longtime_game.building.building__GT_info);
})();
the_longtime_game.project.gather_factory = (function the_longtime_game$project$gather_factory(var_args){
var args__5775__auto__ = [];
var len__5769__auto___3020 = arguments.length;
var i__5770__auto___3021 = (0);
while(true){
if((i__5770__auto___3021 < len__5769__auto___3020)){
args__5775__auto__.push((arguments[i__5770__auto___3021]));

var G__3022 = (i__5770__auto___3021 + (1));
i__5770__auto___3021 = G__3022;
continue;
} else {
}
break;
}

var argseq__5776__auto__ = ((((2) < args__5775__auto__.length))?(new cljs.core.IndexedSeq(args__5775__auto__.slice((2)),(0),null)):null);
return the_longtime_game.project.gather_factory.cljs$core$IFn$_invoke$arity$variadic((arguments[(0)]),(arguments[(1)]),argseq__5776__auto__);
});

(the_longtime_game.project.gather_factory.cljs$core$IFn$_invoke$arity$variadic = (function (n,resources,p__3004){
var map__3005 = p__3004;
var map__3005__$1 = cljs.core.__destructure_map.call(null,map__3005);
var bonus_fn = cljs.core.get.call(null,map__3005__$1,new cljs.core.Keyword(null,"bonus-fn","bonus-fn",-879434527),cljs.core.constantly.call(null,(1)));
var infra = cljs.core.get.call(null,map__3005__$1,new cljs.core.Keyword(null,"infra","infra",-2137779843));
return (function (herd,skill_amount){
var modifier = the_longtime_game.project.skill__GT_multiplier.call(null,skill_amount);
var infra_bonus = (cljs.core.truth_((function (){var and__5043__auto__ = infra;
if(cljs.core.truth_(and__5043__auto__)){
return the_longtime_game.core.local_infra_QMARK_.call(null,herd,infra);
} else {
return and__5043__auto__;
}
})())?(2):(1));
var bonus = bonus_fn.call(null,herd);
return cljs.core.reduce.call(null,(function (herd__$1,p__3006){
var vec__3007 = p__3006;
var resource = cljs.core.nth.call(null,vec__3007,(0),null);
var amount = cljs.core.nth.call(null,vec__3007,(1),null);
return cljs.core.update_in.call(null,herd__$1,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"stores","stores",1203804823),resource], null),cljs.core._PLUS_,amount);
}),herd,(function (){var iter__5523__auto__ = (function the_longtime_game$project$iter__3010(s__3011){
return (new cljs.core.LazySeq(null,(function (){
var s__3011__$1 = s__3011;
while(true){
var temp__5804__auto__ = cljs.core.seq.call(null,s__3011__$1);
if(temp__5804__auto__){
var s__3011__$2 = temp__5804__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__3011__$2)){
var c__5521__auto__ = cljs.core.chunk_first.call(null,s__3011__$2);
var size__5522__auto__ = cljs.core.count.call(null,c__5521__auto__);
var b__3013 = cljs.core.chunk_buffer.call(null,size__5522__auto__);
if((function (){var i__3012 = (0);
while(true){
if((i__3012 < size__5522__auto__)){
var vec__3014 = cljs.core._nth.call(null,c__5521__auto__,i__3012);
var resource = cljs.core.nth.call(null,vec__3014,(0),null);
var x = cljs.core.nth.call(null,vec__3014,(1),null);
var amount = (((((x * n) * modifier) * infra_bonus) * bonus) | (0));
cljs.core.chunk_append.call(null,b__3013,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [resource,amount], null));

var G__3023 = (i__3012 + (1));
i__3012 = G__3023;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__3013),the_longtime_game$project$iter__3010.call(null,cljs.core.chunk_rest.call(null,s__3011__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__3013),null);
}
} else {
var vec__3017 = cljs.core.first.call(null,s__3011__$2);
var resource = cljs.core.nth.call(null,vec__3017,(0),null);
var x = cljs.core.nth.call(null,vec__3017,(1),null);
var amount = (((((x * n) * modifier) * infra_bonus) * bonus) | (0));
return cljs.core.cons.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [resource,amount], null),the_longtime_game$project$iter__3010.call(null,cljs.core.rest.call(null,s__3011__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__5523__auto__.call(null,resources);
})());
});
}));

(the_longtime_game.project.gather_factory.cljs$lang$maxFixedArity = (2));

/** @this {Function} */
(the_longtime_game.project.gather_factory.cljs$lang$applyTo = (function (seq3001){
var G__3002 = cljs.core.first.call(null,seq3001);
var seq3001__$1 = cljs.core.next.call(null,seq3001);
var G__3003 = cljs.core.first.call(null,seq3001__$1);
var seq3001__$2 = cljs.core.next.call(null,seq3001__$1);
var self__5754__auto__ = this;
return self__5754__auto__.cljs$core$IFn$_invoke$arity$variadic(G__3002,G__3003,seq3001__$2);
}));

the_longtime_game.project.fulfillment_factory = (function the_longtime_game$project$fulfillment_factory(var_args){
var args__5775__auto__ = [];
var len__5769__auto___3028 = arguments.length;
var i__5770__auto___3029 = (0);
while(true){
if((i__5770__auto___3029 < len__5769__auto___3028)){
args__5775__auto__.push((arguments[i__5770__auto___3029]));

var G__3030 = (i__5770__auto___3029 + (1));
i__5770__auto___3029 = G__3030;
continue;
} else {
}
break;
}

var argseq__5776__auto__ = ((((1) < args__5775__auto__.length))?(new cljs.core.IndexedSeq(args__5775__auto__.slice((1)),(0),null)):null);
return the_longtime_game.project.fulfillment_factory.cljs$core$IFn$_invoke$arity$variadic((arguments[(0)]),argseq__5776__auto__);
});

(the_longtime_game.project.fulfillment_factory.cljs$core$IFn$_invoke$arity$variadic = (function (n,p__3026){
var map__3027 = p__3026;
var map__3027__$1 = cljs.core.__destructure_map.call(null,map__3027);
var bonus_fn = cljs.core.get.call(null,map__3027__$1,new cljs.core.Keyword(null,"bonus-fn","bonus-fn",-879434527),cljs.core.constantly.call(null,(1)));
var infra = cljs.core.get.call(null,map__3027__$1,new cljs.core.Keyword(null,"infra","infra",-2137779843));
return (function (herd,skill_amount){
var modifier = the_longtime_game.project.skill__GT_multiplier.call(null,skill_amount);
var infra_bonus = (cljs.core.truth_((function (){var and__5043__auto__ = infra;
if(cljs.core.truth_(and__5043__auto__)){
return the_longtime_game.core.local_infra_QMARK_.call(null,herd,infra);
} else {
return and__5043__auto__;
}
})())?(2):(1));
var bonus = bonus_fn.call(null,herd);
var amount = ((((n * modifier) * infra_bonus) * bonus) | (0));
return the_longtime_game.core.update_individuals.call(null,herd,the_longtime_game.core.inc_fulfillment,amount);
});
}));

(the_longtime_game.project.fulfillment_factory.cljs$lang$maxFixedArity = (1));

/** @this {Function} */
(the_longtime_game.project.fulfillment_factory.cljs$lang$applyTo = (function (seq3024){
var G__3025 = cljs.core.first.call(null,seq3024);
var seq3024__$1 = cljs.core.next.call(null,seq3024);
var self__5754__auto__ = this;
return self__5754__auto__.cljs$core$IFn$_invoke$arity$variadic(G__3025,seq3024__$1);
}));

the_longtime_game.project.planting_projects = (function (){var iter__5523__auto__ = (function the_longtime_game$project$iter__3032(s__3033){
return (new cljs.core.LazySeq(null,(function (){
var s__3033__$1 = s__3033;
while(true){
var temp__5804__auto__ = cljs.core.seq.call(null,s__3033__$1);
if(temp__5804__auto__){
var s__3033__$2 = temp__5804__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__3033__$2)){
var c__5521__auto__ = cljs.core.chunk_first.call(null,s__3033__$2);
var size__5522__auto__ = cljs.core.count.call(null,c__5521__auto__);
var b__3035 = cljs.core.chunk_buffer.call(null,size__5522__auto__);
if((function (){var i__3034 = (0);
while(true){
if((i__3034 < size__5522__auto__)){
var crop = cljs.core._nth.call(null,c__5521__auto__,i__3034);
var vec__3036 = the_longtime_game.core.crop_info.call(null,crop);
var nutrients = cljs.core.nth.call(null,vec__3036,(0),null);
var amount = cljs.core.nth.call(null,vec__3036,(1),null);
var nutrient_names = clojure.string.join.call(null,", ",cljs.core.map.call(null,cljs.core.name,nutrients));
cljs.core.chunk_append.call(null,b__3035,new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"name","name",1843675177),["Plant ",cljs.core.name.call(null,crop)," (",nutrient_names,")"].join(''),new cljs.core.Keyword(null,"description","description",-1428560544),"Plant in spring; harvest in summer or fall.",new cljs.core.Keyword(null,"detail","detail",-1545345025),["Crop uses ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(amount)," of each of its nutrients per year."].join(''),new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"herbalism","herbalism",-1597360115)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),(function (){var G__3039 = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"terrain","terrain",704966005),new cljs.core.Keyword(null,"plains","plains",208589091),new cljs.core.Keyword(null,"season","season",851675697),(0)], null);
if(cljs.core._EQ_.call(null,(1),cljs.core.count.call(null,nutrients))){
return cljs.core.merge.call(null,G__3039,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"skills","skills",958701426),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"herbalism","herbalism",-1597360115),the_longtime_game.project.base_need], null)], null));
} else {
return G__3039;
}
})(),new cljs.core.Keyword(null,"filter-fn","filter-fn",1689475675),((function (i__3034,vec__3036,nutrients,amount,nutrient_names,crop,c__5521__auto__,size__5522__auto__,b__3035,s__3033__$2,temp__5804__auto__){
return (function (herd){
var location__$1 = the_longtime_game.core.current_location.call(null,herd);
return (((((new cljs.core.Keyword(null,"crop","crop",793731643).cljs$core$IFn$_invoke$arity$1(location__$1) == null)) || (new cljs.core.Keyword(null,"wild?","wild?",1762788558).cljs$core$IFn$_invoke$arity$1(location__$1) === true))) && (cljs.core.every_QMARK_.call(null,cljs.core.true_QMARK_,cljs.core.map.call(null,((function (i__3034,location__$1,vec__3036,nutrients,amount,nutrient_names,crop,c__5521__auto__,size__5522__auto__,b__3035,s__3033__$2,temp__5804__auto__){
return (function (p1__3031_SHARP_){
return (cljs.core.get.call(null,location__$1,p1__3031_SHARP_,(0)) >= amount);
});})(i__3034,location__$1,vec__3036,nutrients,amount,nutrient_names,crop,c__5521__auto__,size__5522__auto__,b__3035,s__3033__$2,temp__5804__auto__))
,nutrients))));
});})(i__3034,vec__3036,nutrients,amount,nutrient_names,crop,c__5521__auto__,size__5522__auto__,b__3035,s__3033__$2,temp__5804__auto__))
,new cljs.core.Keyword(null,"location-effect","location-effect",-1371252676),((function (i__3034,vec__3036,nutrients,amount,nutrient_names,crop,c__5521__auto__,size__5522__auto__,b__3035,s__3033__$2,temp__5804__auto__){
return (function (location){
return cljs.core.assoc.call(null,the_longtime_game.core.update_nutrients.call(null,nutrients,amount,location),new cljs.core.Keyword(null,"crop","crop",793731643),crop,new cljs.core.Keyword(null,"wild?","wild?",1762788558),false,new cljs.core.Keyword(null,"ready?","ready?",-105765697),false);
});})(i__3034,vec__3036,nutrients,amount,nutrient_names,crop,c__5521__auto__,size__5522__auto__,b__3035,s__3033__$2,temp__5804__auto__))
], null));

var G__3044 = (i__3034 + (1));
i__3034 = G__3044;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__3035),the_longtime_game$project$iter__3032.call(null,cljs.core.chunk_rest.call(null,s__3033__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__3035),null);
}
} else {
var crop = cljs.core.first.call(null,s__3033__$2);
var vec__3040 = the_longtime_game.core.crop_info.call(null,crop);
var nutrients = cljs.core.nth.call(null,vec__3040,(0),null);
var amount = cljs.core.nth.call(null,vec__3040,(1),null);
var nutrient_names = clojure.string.join.call(null,", ",cljs.core.map.call(null,cljs.core.name,nutrients));
return cljs.core.cons.call(null,new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"name","name",1843675177),["Plant ",cljs.core.name.call(null,crop)," (",nutrient_names,")"].join(''),new cljs.core.Keyword(null,"description","description",-1428560544),"Plant in spring; harvest in summer or fall.",new cljs.core.Keyword(null,"detail","detail",-1545345025),["Crop uses ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(amount)," of each of its nutrients per year."].join(''),new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"herbalism","herbalism",-1597360115)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),(function (){var G__3043 = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"terrain","terrain",704966005),new cljs.core.Keyword(null,"plains","plains",208589091),new cljs.core.Keyword(null,"season","season",851675697),(0)], null);
if(cljs.core._EQ_.call(null,(1),cljs.core.count.call(null,nutrients))){
return cljs.core.merge.call(null,G__3043,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"skills","skills",958701426),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"herbalism","herbalism",-1597360115),the_longtime_game.project.base_need], null)], null));
} else {
return G__3043;
}
})(),new cljs.core.Keyword(null,"filter-fn","filter-fn",1689475675),((function (vec__3040,nutrients,amount,nutrient_names,crop,s__3033__$2,temp__5804__auto__){
return (function (herd){
var location__$1 = the_longtime_game.core.current_location.call(null,herd);
return (((((new cljs.core.Keyword(null,"crop","crop",793731643).cljs$core$IFn$_invoke$arity$1(location__$1) == null)) || (new cljs.core.Keyword(null,"wild?","wild?",1762788558).cljs$core$IFn$_invoke$arity$1(location__$1) === true))) && (cljs.core.every_QMARK_.call(null,cljs.core.true_QMARK_,cljs.core.map.call(null,(function (p1__3031_SHARP_){
return (cljs.core.get.call(null,location__$1,p1__3031_SHARP_,(0)) >= amount);
}),nutrients))));
});})(vec__3040,nutrients,amount,nutrient_names,crop,s__3033__$2,temp__5804__auto__))
,new cljs.core.Keyword(null,"location-effect","location-effect",-1371252676),((function (vec__3040,nutrients,amount,nutrient_names,crop,s__3033__$2,temp__5804__auto__){
return (function (location){
return cljs.core.assoc.call(null,the_longtime_game.core.update_nutrients.call(null,nutrients,amount,location),new cljs.core.Keyword(null,"crop","crop",793731643),crop,new cljs.core.Keyword(null,"wild?","wild?",1762788558),false,new cljs.core.Keyword(null,"ready?","ready?",-105765697),false);
});})(vec__3040,nutrients,amount,nutrient_names,crop,s__3033__$2,temp__5804__auto__))
], null),the_longtime_game$project$iter__3032.call(null,cljs.core.rest.call(null,s__3033__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__5523__auto__.call(null,the_longtime_game.core.crops);
})();
the_longtime_game.project.manufacturing_projects = (function (){var iter__5523__auto__ = (function the_longtime_game$project$iter__3045(s__3046){
return (new cljs.core.LazySeq(null,(function (){
var s__3046__$1 = s__3046;
while(true){
var temp__5804__auto__ = cljs.core.seq.call(null,s__3046__$1);
if(temp__5804__auto__){
var s__3046__$2 = temp__5804__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__3046__$2)){
var c__5521__auto__ = cljs.core.chunk_first.call(null,s__3046__$2);
var size__5522__auto__ = cljs.core.count.call(null,c__5521__auto__);
var b__3048 = cljs.core.chunk_buffer.call(null,size__5522__auto__);
if((function (){var i__3047 = (0);
while(true){
if((i__3047 < size__5522__auto__)){
var vec__3049 = cljs.core._nth.call(null,c__5521__auto__,i__3047);
var resource = cljs.core.nth.call(null,vec__3049,(0),null);
var x = cljs.core.nth.call(null,vec__3049,(1),null);
cljs.core.chunk_append.call(null,b__3048,cljs.core.PersistentArrayMap.createAsIfByAssoc([new cljs.core.Keyword(null,"name","name",1843675177),["Manufacture ",cljs.core.name.call(null,resource)," tools"].join(''),new cljs.core.Keyword(null,"description","description",-1428560544),"Produce tools from ",cljs.core.name.call(null,resource),".",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Better materials provide more tools!",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"craftwork","craftwork",-905870327)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"stores","stores",1203804823),cljs.core.assoc.call(null,cljs.core.PersistentArrayMap.EMPTY,resource,the_longtime_game.project.base_need)], null),new cljs.core.Keyword(null,"effect","effect",347343289),the_longtime_game.project.gather_factory.call(null,the_longtime_game.project.low_need,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tools","tools",-1241731990),x], null)], null),new cljs.core.Keyword(null,"infra","infra",-2137779843),new cljs.core.Keyword(null,"workshop","workshop",1559288441))]));

var G__3055 = (i__3047 + (1));
i__3047 = G__3055;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__3048),the_longtime_game$project$iter__3045.call(null,cljs.core.chunk_rest.call(null,s__3046__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__3048),null);
}
} else {
var vec__3052 = cljs.core.first.call(null,s__3046__$2);
var resource = cljs.core.nth.call(null,vec__3052,(0),null);
var x = cljs.core.nth.call(null,vec__3052,(1),null);
return cljs.core.cons.call(null,cljs.core.PersistentArrayMap.createAsIfByAssoc([new cljs.core.Keyword(null,"name","name",1843675177),["Manufacture ",cljs.core.name.call(null,resource)," tools"].join(''),new cljs.core.Keyword(null,"description","description",-1428560544),"Produce tools from ",cljs.core.name.call(null,resource),".",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Better materials provide more tools!",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"craftwork","craftwork",-905870327)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"stores","stores",1203804823),cljs.core.assoc.call(null,cljs.core.PersistentArrayMap.EMPTY,resource,the_longtime_game.project.base_need)], null),new cljs.core.Keyword(null,"effect","effect",347343289),the_longtime_game.project.gather_factory.call(null,the_longtime_game.project.low_need,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tools","tools",-1241731990),x], null)], null),new cljs.core.Keyword(null,"infra","infra",-2137779843),new cljs.core.Keyword(null,"workshop","workshop",1559288441))]),the_longtime_game$project$iter__3045.call(null,cljs.core.rest.call(null,s__3046__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__5523__auto__.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"stone","stone",-59276120),(1)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"bone","bone",-282358486),(2)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"metal","metal",-1749068480),(4)], null)], null));
})();
the_longtime_game.project.projects = cljs.core.concat.call(null,the_longtime_game.project.construction_projects,the_longtime_game.project.planting_projects,the_longtime_game.project.manufacturing_projects,cljs.core.PersistentVector.fromArray([new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"name","name",1843675177),"Cook rations",new cljs.core.Keyword(null,"description","description",-1428560544),"Prepare travel-ready meals that the herd can carry with it.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Food cannot be transported, but rations can.",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"medicine","medicine",892236478)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"stores","stores",1203804823),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"food","food",1842183121),the_longtime_game.project.base_need], null)], null),new cljs.core.Keyword(null,"effect","effect",347343289),the_longtime_game.project.gather_factory.call(null,the_longtime_game.project.base_need,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"rations","rations",-354188495),(1)], null)], null),new cljs.core.Keyword(null,"infra","infra",-2137779843),new cljs.core.Keyword(null,"kitchen","kitchen",-1134129242))], null),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"name","name",1843675177),"Cook rations mechanically",new cljs.core.Keyword(null,"description","description",-1428560544),"Using advanced mechanisms, automate much of the cooking process.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Produces more rations, but consumes tools and power.",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"medicine","medicine",892236478)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"stores","stores",1203804823),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"food","food",1842183121),the_longtime_game.project.base_need,new cljs.core.Keyword(null,"tools","tools",-1241731990),the_longtime_game.project.low_need], null),new cljs.core.Keyword(null,"power","power",-937852079),(1)], null),new cljs.core.Keyword(null,"effect","effect",347343289),the_longtime_game.project.gather_factory.call(null,the_longtime_game.project.base_need,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"rations","rations",-354188495),(2)], null)], null),new cljs.core.Keyword(null,"infra","infra",-2137779843),new cljs.core.Keyword(null,"kitchen","kitchen",-1134129242))], null),new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"name","name",1843675177),"Eat the land",new cljs.core.Keyword(null,"description","description",-1428560544),"Consume the forest's lower layers, converting detritus to rough calories.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Reduces the forest's flora, but higher flora produces more food.",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"herbalism","herbalism",-1597360115)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"terrain","terrain",704966005),new cljs.core.Keyword(null,"forest","forest",278860306)], null),new cljs.core.Keyword(null,"filter-fn","filter-fn",1689475675),the_longtime_game.project.flora_filter,new cljs.core.Keyword(null,"effect","effect",347343289),the_longtime_game.project.gather_factory.call(null,((2) * the_longtime_game.project.base_need),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"food","food",1842183121),(1)], null)], null),new cljs.core.Keyword(null,"bonus-fn","bonus-fn",-879434527),the_longtime_game.project.flora_bonus),new cljs.core.Keyword(null,"location-effect","location-effect",-1371252676),the_longtime_game.project.deplete_land], null),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"name","name",1843675177),"Elongate path",new cljs.core.Keyword(null,"description","description",-1428560544),"Add another stage to the migration path.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Longer paths support larger herds.",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"organizing","organizing",1714077651)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"skills","skills",958701426),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"organizing","organizing",1714077651),the_longtime_game.project.midgame_skill], null)], null),new cljs.core.Keyword(null,"effect","effect",347343289),(function (herd,_){
var options = cljs.core.take.call(null,(2),cljs.core.shuffle.call(null,cljs.core.vec.call(null,the_longtime_game.core.terrains)));
var locations = cljs.core.vec.call(null,cljs.core.map.call(null,the_longtime_game.core.init_location,options));
return cljs.core.update.call(null,herd,new cljs.core.Keyword(null,"path","path",-188191168),(function (path){
return cljs.core.vec.call(null,cljs.core.concat.call(null,cljs.core.subvec.call(null,path,(0),(1)),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [locations], null),cljs.core.subvec.call(null,path,(1))));
}));
})], null),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"name","name",1843675177),"Explore",new cljs.core.Keyword(null,"description","description",-1428560544),"Add another location to the next stage of the path.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Each stage may have up to four locations, each of different terrain.",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"organizing","organizing",1714077651)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"skills","skills",958701426),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"organizing","organizing",1714077651),((2) * the_longtime_game.project.earlygame_skill)], null)], null),new cljs.core.Keyword(null,"filter-fn","filter-fn",1689475675),(function (herd){
return ((4) > cljs.core.count.call(null,cljs.core.second.call(null,new cljs.core.Keyword(null,"path","path",-188191168).cljs$core$IFn$_invoke$arity$1(herd))));
}),new cljs.core.Keyword(null,"effect","effect",347343289),(function (herd,_){
var terrains = cljs.core.set.call(null,cljs.core.map.call(null,new cljs.core.Keyword(null,"terrain","terrain",704966005),cljs.core.get_in.call(null,herd,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"path","path",-188191168),(1)], null))));
var ok_terrains = cljs.core.filter.call(null,cljs.core.complement.call(null,terrains),the_longtime_game.core.terrains);
var location__$1 = the_longtime_game.core.init_location.call(null,cljs.core.rand_nth.call(null,cljs.core.vec.call(null,ok_terrains)));
return cljs.core.update_in.call(null,herd,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"path","path",-188191168),(1)], null),cljs.core.conj,location__$1);
})], null),new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"name","name",1843675177),"Gather bog-iron",new cljs.core.Keyword(null,"description","description",-1428560544),"Acidic swampwater leeches pure iron from underground deposits.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Gather ore, once a year.",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"geology","geology",1882859698)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"terrain","terrain",704966005),new cljs.core.Keyword(null,"swamp","swamp",769481087)], null),new cljs.core.Keyword(null,"filter-fn","filter-fn",1689475675),(function (p1__3056_SHARP_){
return new cljs.core.Keyword(null,"depleted?","depleted?",346115752).cljs$core$IFn$_invoke$arity$1(the_longtime_game.core.current_location.call(null,p1__3056_SHARP_)) === false;
}),new cljs.core.Keyword(null,"effect","effect",347343289),the_longtime_game.project.gather_factory.call(null,the_longtime_game.project.base_need,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ore","ore",-1419191389),(1)], null)], null)),new cljs.core.Keyword(null,"location-effect","location-effect",-1371252676),(function (location){
return cljs.core.assoc.call(null,location,new cljs.core.Keyword(null,"depleted?","depleted?",346115752),true);
})], null),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"name","name",1843675177),"Gather bog-iron with magnets",new cljs.core.Keyword(null,"description","description",-1428560544),"Collect more, deeper, with advanced tools and sensors.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Uses power to gather more.",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"geology","geology",1882859698)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"terrain","terrain",704966005),new cljs.core.Keyword(null,"swamp","swamp",769481087),new cljs.core.Keyword(null,"power","power",-937852079),(1),new cljs.core.Keyword(null,"stores","stores",1203804823),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"tools","tools",-1241731990),the_longtime_game.project.low_need], null)], null),new cljs.core.Keyword(null,"filter-fn","filter-fn",1689475675),(function (p1__3057_SHARP_){
return new cljs.core.Keyword(null,"depleted?","depleted?",346115752).cljs$core$IFn$_invoke$arity$1(the_longtime_game.core.current_location.call(null,p1__3057_SHARP_)) === false;
}),new cljs.core.Keyword(null,"effect","effect",347343289),the_longtime_game.project.gather_factory.call(null,the_longtime_game.project.base_need,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ore","ore",-1419191389),(2)], null)], null))], null),new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"name","name",1843675177),"Gather deadfall",new cljs.core.Keyword(null,"description","description",-1428560544),"Scavenge wood and bone from what falls in the deep wood.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Provides more resources with more flora.",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"herbalism","herbalism",-1597360115)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"terrain","terrain",704966005),new cljs.core.Keyword(null,"forest","forest",278860306)], null),new cljs.core.Keyword(null,"filter-fn","filter-fn",1689475675),the_longtime_game.project.flora_filter,new cljs.core.Keyword(null,"effect","effect",347343289),the_longtime_game.project.gather_factory.call(null,the_longtime_game.project.base_need,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"wood","wood",149241168),(1)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"bone","bone",-282358486),0.5], null)], null),new cljs.core.Keyword(null,"bonus-fn","bonus-fn",-879434527),the_longtime_game.project.flora_bonus),new cljs.core.Keyword(null,"location-effect","location-effect",-1371252676),the_longtime_game.project.deplete_land], null),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"name","name",1843675177),"Gather stones",new cljs.core.Keyword(null,"description","description",-1428560544),"Collect rocks and surface ore from the local area.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"More effective in mountains.",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"geology","geology",1882859698)], null),new cljs.core.Keyword(null,"effect","effect",347343289),the_longtime_game.project.gather_factory.call(null,the_longtime_game.project.base_need,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"stone","stone",-59276120),(1)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ore","ore",-1419191389),0.1], null)], null),new cljs.core.Keyword(null,"infra","infra",-2137779843),new cljs.core.Keyword(null,"quarry","quarry",-1054560347),new cljs.core.Keyword(null,"bonus-fn","bonus-fn",-879434527),(function (herd){
if(cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"mountain","mountain",-1770530243),new cljs.core.Keyword(null,"terrain","terrain",704966005).cljs$core$IFn$_invoke$arity$1(the_longtime_game.core.current_location.call(null,herd)))){
return 1.5;
} else {
return (1);
}
}))], null),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"name","name",1843675177),"Graze",new cljs.core.Keyword(null,"description","description",-1428560544),"Feed from the land as you have since time immemorial.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Less effective in Winter.",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"herbalism","herbalism",-1597360115)], null),new cljs.core.Keyword(null,"effect","effect",347343289),the_longtime_game.project.gather_factory.call(null,the_longtime_game.project.base_need,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"food","food",1842183121),(1)], null)], null),new cljs.core.Keyword(null,"bonus-fn","bonus-fn",-879434527),(function (herd){
if(cljs.core._EQ_.call(null,(3),the_longtime_game.core.get_season.call(null,herd))){
return 0.5;
} else {
return (1);
}
}))], null),new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"name","name",1843675177),"Harvest crops",new cljs.core.Keyword(null,"description","description",-1428560544),"Gather plenty of food from ripe plants.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Crops must be replanted next Spring to grow again.",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"herbalism","herbalism",-1597360115)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"terrain","terrain",704966005),new cljs.core.Keyword(null,"plains","plains",208589091)], null),new cljs.core.Keyword(null,"filter-fn","filter-fn",1689475675),(function (p1__3058_SHARP_){
return new cljs.core.Keyword(null,"ready?","ready?",-105765697).cljs$core$IFn$_invoke$arity$1(the_longtime_game.core.current_location.call(null,p1__3058_SHARP_)) === true;
}),new cljs.core.Keyword(null,"effect","effect",347343289),(function (p1__3059_SHARP_,p2__3060_SHARP_){
return cljs.core.update_in.call(null,p1__3059_SHARP_,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"stores","stores",1203804823),new cljs.core.Keyword(null,"food","food",1842183121)], null),cljs.core._PLUS_,(((the_longtime_game.project.base_need * (2)) * the_longtime_game.project.skill__GT_multiplier.call(null,p2__3060_SHARP_)) | (0)));
}),new cljs.core.Keyword(null,"location-effect","location-effect",-1371252676),(function (p1__3061_SHARP_){
return cljs.core.assoc.call(null,p1__3061_SHARP_,new cljs.core.Keyword(null,"crop","crop",793731643),null,new cljs.core.Keyword(null,"ready?","ready?",-105765697),false);
})], null),new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"name","name",1843675177),"Harvest crops mechanically",new cljs.core.Keyword(null,"description","description",-1428560544),"Use advanced tools to thresh plants more effectively.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Uses power to produce more food.",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"herbalism","herbalism",-1597360115)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"terrain","terrain",704966005),new cljs.core.Keyword(null,"plains","plains",208589091),new cljs.core.Keyword(null,"stores","stores",1203804823),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"tools","tools",-1241731990),the_longtime_game.project.low_need], null),new cljs.core.Keyword(null,"power","power",-937852079),(1)], null),new cljs.core.Keyword(null,"filter-fn","filter-fn",1689475675),(function (p1__3062_SHARP_){
return new cljs.core.Keyword(null,"ready?","ready?",-105765697).cljs$core$IFn$_invoke$arity$1(the_longtime_game.core.current_location.call(null,p1__3062_SHARP_)) === true;
}),new cljs.core.Keyword(null,"effect","effect",347343289),(function (p1__3063_SHARP_,p2__3064_SHARP_){
return cljs.core.update_in.call(null,p1__3063_SHARP_,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"stores","stores",1203804823),new cljs.core.Keyword(null,"food","food",1842183121)], null),cljs.core._PLUS_,(((the_longtime_game.project.base_need * (4)) * the_longtime_game.project.skill__GT_multiplier.call(null,p2__3064_SHARP_)) | (0)));
}),new cljs.core.Keyword(null,"location-effect","location-effect",-1371252676),(function (p1__3065_SHARP_){
return cljs.core.assoc.call(null,p1__3065_SHARP_,new cljs.core.Keyword(null,"crop","crop",793731643),null,new cljs.core.Keyword(null,"ready?","ready?",-105765697),false);
})], null),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"name","name",1843675177),"Hold festival",new cljs.core.Keyword(null,"description","description",-1428560544),"Surprise and tantalize with feats of physical prowess and dextrous excellence!",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Consumes 1 nutrition per 5 individuals, and raises fulfillment.",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"athletics","athletics",-1841803663),new cljs.core.Keyword(null,"organizing","organizing",1714077651)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"stores","stores",1203804823),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"nutrition","nutrition",928000668),0.2], null)], null),new cljs.core.Keyword(null,"filter-fn","filter-fn",1689475675),(function (p1__3066_SHARP_){
return the_longtime_game.core.herd_has_nutrition_QMARK_.call(null,p1__3066_SHARP_,0.2);
}),new cljs.core.Keyword(null,"effect","effect",347343289),(function (p1__3067_SHARP_,p2__3068_SHARP_){
return the_longtime_game.core.consume_nutrition.call(null,the_longtime_game.project.fulfillment_factory.call(null,(3),new cljs.core.Keyword(null,"infra","infra",-2137779843),new cljs.core.Keyword(null,"stadium","stadium",-810967542)).call(null,p1__3067_SHARP_,p2__3068_SHARP_),0.2);
})], null),new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"name","name",1843675177),"Launch probe",new cljs.core.Keyword(null,"description","description",-1428560544),"Place a sensor-bearing craft on a journey throughout the local system.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Raises fulfillment, besides!",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"craftwork","craftwork",-905870327),new cljs.core.Keyword(null,"organizing","organizing",1714077651)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"power","power",-937852079),(2),new cljs.core.Keyword(null,"stores","stores",1203804823),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"metal","metal",-1749068480),(500),new cljs.core.Keyword(null,"tools","tools",-1241731990),(1000)], null),new cljs.core.Keyword(null,"infra","infra",-2137779843),new cljs.core.Keyword(null,"mag-launchpad","mag-launchpad",2011017189)], null),new cljs.core.Keyword(null,"filter-fn","filter-fn",1689475675),(function (p1__3069_SHARP_){
return (cljs.core.get_in.call(null,p1__3069_SHARP_,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"space","space",348133475),new cljs.core.Keyword(null,"probe","probe",1496134710)], null)) == null);
}),new cljs.core.Keyword(null,"effect","effect",347343289),(function (p1__3070_SHARP_){
return the_longtime_game.core.update_individuals.call(null,cljs.core.update.call(null,p1__3070_SHARP_,new cljs.core.Keyword(null,"space","space",348133475),cljs.core.conj,new cljs.core.Keyword(null,"probe","probe",1496134710)),the_longtime_game.core.inc_fulfillment,(20));
}),new cljs.core.Keyword(null,"text-fn","text-fn",1202470087),cljs.core.constantly.call(null,the_longtime_game.space_text.probe)], null),new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"name","name",1843675177),"Launch permanent space station",new cljs.core.Keyword(null,"description","description",-1428560544),"Place a habitable asset with a rotating crew at a local gravity-null point.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"A humble bracelet, adorning the void.",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"craftwork","craftwork",-905870327),new cljs.core.Keyword(null,"organizing","organizing",1714077651)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"power","power",-937852079),(2),new cljs.core.Keyword(null,"stores","stores",1203804823),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"metal","metal",-1749068480),(1500),new cljs.core.Keyword(null,"tools","tools",-1241731990),(2000)], null),new cljs.core.Keyword(null,"infra","infra",-2137779843),new cljs.core.Keyword(null,"mag-launchpad","mag-launchpad",2011017189),new cljs.core.Keyword(null,"space","space",348133475),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"probe","probe",1496134710),null], null), null)], null),new cljs.core.Keyword(null,"filter-fn","filter-fn",1689475675),(function (p1__3071_SHARP_){
return (cljs.core.get_in.call(null,p1__3071_SHARP_,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"space","space",348133475),new cljs.core.Keyword(null,"station","station",254744800)], null)) == null);
}),new cljs.core.Keyword(null,"effect","effect",347343289),(function (p1__3072_SHARP_){
return the_longtime_game.core.update_individuals.call(null,cljs.core.update.call(null,p1__3072_SHARP_,new cljs.core.Keyword(null,"space","space",348133475),cljs.core.conj,new cljs.core.Keyword(null,"station","station",254744800)),the_longtime_game.core.inc_fulfillment,(25));
}),new cljs.core.Keyword(null,"text-fn","text-fn",1202470087),cljs.core.constantly.call(null,the_longtime_game.space_text.station)], null),new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"name","name",1843675177),"Launch shipyard requisites",new cljs.core.Keyword(null,"description","description",-1428560544),"Raise mining and production systems to facilitate large-scale manufacturing in space.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"How else to truly invest in the stars, than to scatter ourselves among them?",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"craftwork","craftwork",-905870327),new cljs.core.Keyword(null,"organizing","organizing",1714077651)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"power","power",-937852079),(8),new cljs.core.Keyword(null,"stores","stores",1203804823),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"metal","metal",-1749068480),(5000),new cljs.core.Keyword(null,"tools","tools",-1241731990),(10000)], null),new cljs.core.Keyword(null,"infra","infra",-2137779843),new cljs.core.Keyword(null,"mag-launchpad","mag-launchpad",2011017189),new cljs.core.Keyword(null,"space","space",348133475),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"station","station",254744800),null,new cljs.core.Keyword(null,"probe","probe",1496134710),null], null), null)], null),new cljs.core.Keyword(null,"filter-fn","filter-fn",1689475675),(function (p1__3073_SHARP_){
return (cljs.core.get_in.call(null,p1__3073_SHARP_,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"space","space",348133475),new cljs.core.Keyword(null,"shipyard","shipyard",-1946758455)], null)) == null);
}),new cljs.core.Keyword(null,"effect","effect",347343289),(function (herd){
return the_longtime_game.core.update_individuals.call(null,cljs.core.update.call(null,herd,new cljs.core.Keyword(null,"space","space",348133475),cljs.core.conj,new cljs.core.Keyword(null,"shipyard","shipyard",-1946758455)),the_longtime_game.core.inc_fulfillment,(30));
}),new cljs.core.Keyword(null,"text-fn","text-fn",1202470087),cljs.core.constantly.call(null,the_longtime_game.space_text.shipyard)], null),new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"name","name",1843675177),"Launch ringworld requisites",new cljs.core.Keyword(null,"description","description",-1428560544),"Place a massive ring of stone and metal in a stable orbit, to be made habitable over centuries.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"To live in space, forever, will require new scales of thought. New orders of dreaming.",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"craftwork","craftwork",-905870327),new cljs.core.Keyword(null,"organizing","organizing",1714077651)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"power","power",-937852079),(16),new cljs.core.Keyword(null,"stores","stores",1203804823),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"metal","metal",-1749068480),(50000),new cljs.core.Keyword(null,"tools","tools",-1241731990),(100000)], null),new cljs.core.Keyword(null,"infra","infra",-2137779843),new cljs.core.Keyword(null,"mag-launchpad","mag-launchpad",2011017189),new cljs.core.Keyword(null,"space","space",348133475),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"station","station",254744800),null,new cljs.core.Keyword(null,"shipyard","shipyard",-1946758455),null,new cljs.core.Keyword(null,"probe","probe",1496134710),null], null), null)], null),new cljs.core.Keyword(null,"filter-fn","filter-fn",1689475675),(function (p1__3074_SHARP_){
return (cljs.core.get_in.call(null,p1__3074_SHARP_,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"space","space",348133475),new cljs.core.Keyword(null,"ringworld","ringworld",67501872)], null)) == null);
}),new cljs.core.Keyword(null,"effect","effect",347343289),(function (herd){
return the_longtime_game.core.update_individuals.call(null,cljs.core.update.call(null,herd,new cljs.core.Keyword(null,"space","space",348133475),cljs.core.conj,new cljs.core.Keyword(null,"ringworld","ringworld",67501872)),the_longtime_game.core.inc_fulfillment,(40));
}),new cljs.core.Keyword(null,"text-fn","text-fn",1202470087),cljs.core.constantly.call(null,the_longtime_game.space_text.ringworld)], null),new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(null,"name","name",1843675177),"Launch mobile ringworld requisites",new cljs.core.Keyword(null,"description","description",-1428560544),"Advanced electromagnetic flux capacitors allow ion engines to tug a ringworld through space.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"What will it really take, to hold a Longtime amid the everlasting void?",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"craftwork","craftwork",-905870327),new cljs.core.Keyword(null,"organizing","organizing",1714077651)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"power","power",-937852079),(32),new cljs.core.Keyword(null,"stores","stores",1203804823),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"metal","metal",-1749068480),(500000),new cljs.core.Keyword(null,"tools","tools",-1241731990),(1000000)], null),new cljs.core.Keyword(null,"infra","infra",-2137779843),new cljs.core.Keyword(null,"mag-launchpad","mag-launchpad",2011017189),new cljs.core.Keyword(null,"space","space",348133475),new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"station","station",254744800),null,new cljs.core.Keyword(null,"shipyard","shipyard",-1946758455),null,new cljs.core.Keyword(null,"ringworld","ringworld",67501872),null,new cljs.core.Keyword(null,"probe","probe",1496134710),null], null), null)], null),new cljs.core.Keyword(null,"filter-fn","filter-fn",1689475675),(function (p1__3075_SHARP_){
return (cljs.core.get_in.call(null,p1__3075_SHARP_,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"space","space",348133475),new cljs.core.Keyword(null,"mobile-ringworld","mobile-ringworld",450480422)], null)) == null);
}),new cljs.core.Keyword(null,"effect","effect",347343289),(function (herd){
return the_longtime_game.core.update_individuals.call(null,cljs.core.update.call(null,herd,new cljs.core.Keyword(null,"space","space",348133475),cljs.core.conj,new cljs.core.Keyword(null,"mobile-ringworld","mobile-ringworld",450480422)),the_longtime_game.core.inc_fulfillment,(50));
}),new cljs.core.Keyword(null,"text-fn","text-fn",1202470087),cljs.core.constantly.call(null,the_longtime_game.space_text.mobile_ringworld)], null),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"name","name",1843675177),"Mag-smelt metal",new cljs.core.Keyword(null,"description","description",-1428560544),"Use powerful electromagnetics to separate and purify ore.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Consumes power to produce metal.",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"craftwork","craftwork",-905870327)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"power","power",-937852079),(1),new cljs.core.Keyword(null,"stores","stores",1203804823),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"ore","ore",-1419191389),the_longtime_game.project.base_need], null)], null),new cljs.core.Keyword(null,"filter-fn","filter-fn",1689475675),(function (p1__3076_SHARP_){
return the_longtime_game.core.local_infra_QMARK_.call(null,p1__3076_SHARP_,new cljs.core.Keyword(null,"mag-forge","mag-forge",1150577013));
}),new cljs.core.Keyword(null,"effect","effect",347343289),the_longtime_game.project.gather_factory.call(null,the_longtime_game.project.base_need,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"metal","metal",-1749068480),(1)], null)], null))], null),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"name","name",1843675177),"Prepare poultices",new cljs.core.Keyword(null,"description","description",-1428560544),"Sift edible plants for their medicinal properties, and prepare herbal treatments from them.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Turns food to medicine.",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"medicine","medicine",892236478)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"stores","stores",1203804823),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"food","food",1842183121),the_longtime_game.project.base_need], null)], null),new cljs.core.Keyword(null,"effect","effect",347343289),the_longtime_game.project.gather_factory.call(null,the_longtime_game.project.base_need,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"poultices","poultices",-616779013),0.5], null)], null),new cljs.core.Keyword(null,"infra","infra",-2137779843),new cljs.core.Keyword(null,"hospital","hospital",871548384))], null),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"name","name",1843675177),"Smelt metal",new cljs.core.Keyword(null,"description","description",-1428560544),"Use the massive force of monsoon winds to heat charcoal hot enough to make high-quality steel.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Only works during monsoon season (Fall).",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"craftwork","craftwork",-905870327)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"season","season",851675697),(2),new cljs.core.Keyword(null,"stores","stores",1203804823),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"wood","wood",149241168),the_longtime_game.project.base_need,new cljs.core.Keyword(null,"ore","ore",-1419191389),the_longtime_game.project.base_need], null),new cljs.core.Keyword(null,"infra","infra",-2137779843),new cljs.core.Keyword(null,"wind-forge","wind-forge",-76042575)], null),new cljs.core.Keyword(null,"effect","effect",347343289),the_longtime_game.project.gather_factory.call(null,the_longtime_game.project.base_need,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"metal","metal",-1749068480),0.5], null)], null),new cljs.core.Keyword(null,"infra","infra",-2137779843),new cljs.core.Keyword(null,"monsoon-bellows","monsoon-bellows",-1945808740))], null),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"name","name",1843675177),"Spelunk",new cljs.core.Keyword(null,"description","description",-1428560544),"Delve the dimdark for shinies.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Gathers ore using geology and athletics.",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"athletics","athletics",-1841803663),new cljs.core.Keyword(null,"geology","geology",1882859698)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"terrain","terrain",704966005),new cljs.core.Keyword(null,"mountain","mountain",-1770530243),new cljs.core.Keyword(null,"stores","stores",1203804823),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"tools","tools",-1241731990),the_longtime_game.project.low_need], null)], null),new cljs.core.Keyword(null,"effect","effect",347343289),the_longtime_game.project.gather_factory.call(null,the_longtime_game.project.base_need,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ore","ore",-1419191389),(1)], null)], null))], null),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"name","name",1843675177),"Stargaze",new cljs.core.Keyword(null,"description","description",-1428560544),"Observe the celestial sphere, and revel in its awesome span.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Tedious types record this stuff.",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"organizing","organizing",1714077651)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"terrain","terrain",704966005),new cljs.core.Keyword(null,"mountain","mountain",-1770530243)], null),new cljs.core.Keyword(null,"effect","effect",347343289),the_longtime_game.project.fulfillment_factory.call(null,(2),new cljs.core.Keyword(null,"infra","infra",-2137779843),new cljs.core.Keyword(null,"observatory","observatory",-435669855))], null),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"name","name",1843675177),"Synthesize medicine",new cljs.core.Keyword(null,"description","description",-1428560544),"Use advanced tools to produce high-quality medical treatments.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Consumes power to produce more poultices.",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"medicine","medicine",892236478)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"infra","infra",-2137779843),new cljs.core.Keyword(null,"hospital","hospital",871548384),new cljs.core.Keyword(null,"skills","skills",958701426),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"medicine","medicine",892236478),(100)], null),new cljs.core.Keyword(null,"stores","stores",1203804823),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"food","food",1842183121),the_longtime_game.project.base_need,new cljs.core.Keyword(null,"tools","tools",-1241731990),(10)], null),new cljs.core.Keyword(null,"power","power",-937852079),(1)], null),new cljs.core.Keyword(null,"effect","effect",347343289),the_longtime_game.project.gather_factory.call(null,the_longtime_game.project.base_need,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"poultices","poultices",-616779013),(1)], null)], null),new cljs.core.Keyword(null,"infra","infra",-2137779843),new cljs.core.Keyword(null,"hospital","hospital",871548384))], null),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"name","name",1843675177),"Trade wood for stone",new cljs.core.Keyword(null,"description","description",-1428560544),"Harps will accept a well-shaped stick for a fascinating stone.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"More or less.",new cljs.core.Keyword(null,"uses","uses",232664692),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"stores","stores",1203804823),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"wood","wood",149241168),the_longtime_game.project.base_need], null),new cljs.core.Keyword(null,"infra","infra",-2137779843),new cljs.core.Keyword(null,"flyer-market","flyer-market",950673375)], null),new cljs.core.Keyword(null,"effect","effect",347343289),the_longtime_game.project.trade_factory.call(null,new cljs.core.Keyword(null,"stone","stone",-59276120),the_longtime_game.project.base_need,(2),(3))], null),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"name","name",1843675177),"Trade stone for bone",new cljs.core.Keyword(null,"description","description",-1428560544),"The lingering fact of a soul, for the inert substance of the world? Perhaps, perhaps.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Trades at a variable rate.",new cljs.core.Keyword(null,"uses","uses",232664692),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"stores","stores",1203804823),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"stone","stone",-59276120),the_longtime_game.project.base_need], null),new cljs.core.Keyword(null,"infra","infra",-2137779843),new cljs.core.Keyword(null,"flyer-market","flyer-market",950673375)], null),new cljs.core.Keyword(null,"effect","effect",347343289),the_longtime_game.project.trade_factory.call(null,new cljs.core.Keyword(null,"bone","bone",-282358486),the_longtime_game.project.base_need,(3),(5))], null),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"name","name",1843675177),"Trade bone for ore",new cljs.core.Keyword(null,"description","description",-1428560544),"Deep in the earth lingers the evidence of some vast mystery, just as upon it thrives another.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Worse rates for more tenuous arguments.",new cljs.core.Keyword(null,"uses","uses",232664692),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"stores","stores",1203804823),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"bone","bone",-282358486),the_longtime_game.project.base_need], null),new cljs.core.Keyword(null,"infra","infra",-2137779843),new cljs.core.Keyword(null,"flyer-market","flyer-market",950673375)], null),new cljs.core.Keyword(null,"effect","effect",347343289),the_longtime_game.project.trade_factory.call(null,new cljs.core.Keyword(null,"ore","ore",-1419191389),the_longtime_game.project.base_need,(4),(7))], null),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"name","name",1843675177),"Trade ore for tools",new cljs.core.Keyword(null,"description","description",-1428560544),"It is the proof of effort, invested and potential, which captures the truest shinies.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Rhetorician's discount!",new cljs.core.Keyword(null,"uses","uses",232664692),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"stores","stores",1203804823),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"ore","ore",-1419191389),the_longtime_game.project.base_need], null),new cljs.core.Keyword(null,"infra","infra",-2137779843),new cljs.core.Keyword(null,"flyer-market","flyer-market",950673375)], null),new cljs.core.Keyword(null,"effect","effect",347343289),the_longtime_game.project.trade_factory.call(null,new cljs.core.Keyword(null,"tools","tools",-1241731990),the_longtime_game.project.base_need,(5),(9))], null),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"name","name",1843675177),"Trade tools for metal",new cljs.core.Keyword(null,"description","description",-1428560544),"The riddle of steel materializes the promise of the tool, and the craftsfolk.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Many tools to few metal.",new cljs.core.Keyword(null,"uses","uses",232664692),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"stores","stores",1203804823),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"tools","tools",-1241731990),the_longtime_game.project.base_need], null),new cljs.core.Keyword(null,"infra","infra",-2137779843),new cljs.core.Keyword(null,"flyer-market","flyer-market",950673375)], null),new cljs.core.Keyword(null,"effect","effect",347343289),the_longtime_game.project.trade_factory.call(null,new cljs.core.Keyword(null,"metal","metal",-1749068480),the_longtime_game.project.base_need,(6),(11))], null),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"name","name",1843675177),"Train and hobby",new cljs.core.Keyword(null,"description","description",-1428560544),"Devote the herd to the development of its own abilities.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Raises skills, prioritizing passions.",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"organizing","organizing",1714077651)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"stores","stores",1203804823),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"tools","tools",-1241731990),0.1,new cljs.core.Keyword(null,"wood","wood",149241168),0.1,new cljs.core.Keyword(null,"rations","rations",-354188495),0.1], null)], null),new cljs.core.Keyword(null,"effect","effect",347343289),(function (herd,_){
return the_longtime_game.core.update_individuals.call(null,herd,cljs.core.partial.call(null,the_longtime_game.core.inc_passion_skill,herd));
})], null),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"name","name",1843675177),"Turn generator",new cljs.core.Keyword(null,"description","description",-1428560544),"The strong among us flex and vie for a chance to turn power into power!",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Produces energy with time.",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"athletics","athletics",-1841803663)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"infra","infra",-2137779843),new cljs.core.Keyword(null,"quern-generator","quern-generator",1200290850)], null),new cljs.core.Keyword(null,"filter-fn","filter-fn",1689475675),(function (herd){
return ((the_longtime_game.core.local_infra_QMARK_.call(null,herd,new cljs.core.Keyword(null,"stonetower-batteries","stonetower-batteries",-2137261162))) || (cljs.core._EQ_.call(null,(0),new cljs.core.Keyword(null,"power","power",-937852079).cljs$core$IFn$_invoke$arity$1(the_longtime_game.core.current_location.call(null,herd)))));
}),new cljs.core.Keyword(null,"effect","effect",347343289),(function (herd,skill_amount){
var amount = (the_longtime_game.project.skill__GT_multiplier.call(null,skill_amount) | (0));
return the_longtime_game.core.update_current_location.call(null,herd,(function (p1__3077_SHARP_){
return cljs.core.update.call(null,p1__3077_SHARP_,new cljs.core.Keyword(null,"power","power",-937852079),cljs.core._PLUS_,amount);
}));
})], null),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"name","name",1843675177),"Venerate the land",new cljs.core.Keyword(null,"description","description",-1428560544),"Using the stuff of life, we sanctify this earth, and bid it grow strong with us.",new cljs.core.Keyword(null,"detail","detail",-1545345025),"Raises flora using rations. Requires more herbalism, the higher the flora.",new cljs.core.Keyword(null,"uses","uses",232664692),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"herbalism","herbalism",-1597360115)], null),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"terrain","terrain",704966005),new cljs.core.Keyword(null,"forest","forest",278860306),new cljs.core.Keyword(null,"stores","stores",1203804823),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"rations","rations",-354188495),the_longtime_game.project.base_need], null),new cljs.core.Keyword(null,"skills","skills",958701426),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"herbalism","herbalism",-1597360115),the_longtime_game.project.base_need], null)], null),new cljs.core.Keyword(null,"filter-fn","filter-fn",1689475675),(function (herd){
var location__$1 = the_longtime_game.core.current_location.call(null,herd);
return ((((4) > new cljs.core.Keyword(null,"flora","flora",1421964825).cljs$core$IFn$_invoke$arity$1(location__$1))) && (the_longtime_game.core.herd_has_skill_QMARK_.call(null,herd,new cljs.core.Keyword(null,"herbalism","herbalism",-1597360115),((100) * new cljs.core.Keyword(null,"flora","flora",1421964825).cljs$core$IFn$_invoke$arity$1(location__$1)))));
}),new cljs.core.Keyword(null,"location-effect","location-effect",-1371252676),(function (location){
return cljs.core.update.call(null,location,new cljs.core.Keyword(null,"flora","flora",1421964825),cljs.core.inc);
})], null)], true));
cljs.spec.alpha.def_impl.call(null,new cljs.core.Keyword("the-longtime-game.project","description","the-longtime-game.project/description",1283135061),new cljs.core.Symbol("cljs.core","string?","cljs.core/string?",-2072921719,null),cljs.core.string_QMARK_);
cljs.spec.alpha.def_impl.call(null,new cljs.core.Keyword("the-longtime-game.project","detail","the-longtime-game.project/detail",2122455228),new cljs.core.Symbol("cljs.core","string?","cljs.core/string?",-2072921719,null),cljs.core.string_QMARK_);
cljs.spec.alpha.def_impl.call(null,new cljs.core.Keyword("the-longtime-game.project","filter-fn","the-longtime-game.project/filter-fn",164694968),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","or","cljs.spec.alpha/or",-831679639,null),new cljs.core.Keyword(null,"fn","fn",-1175266204),new cljs.core.Symbol("cljs.core","ifn?","cljs.core/ifn?",1573873861,null),new cljs.core.Keyword(null,"fn*","fn*",1901558924),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","fspec","cljs.spec.alpha/fspec",-1289128341,null),new cljs.core.Keyword(null,"args","args",1315556576),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391)),new cljs.core.Keyword(null,"ret","ret",-468222814),new cljs.core.Symbol("cljs.core","boolean?","cljs.core/boolean?",1400713761,null))),cljs.spec.alpha.or_spec_impl.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"fn","fn",-1175266204),new cljs.core.Keyword(null,"fn*","fn*",1901558924)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol("cljs.core","ifn?","cljs.core/ifn?",1573873861,null),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","fspec","cljs.spec.alpha/fspec",-1289128341,null),new cljs.core.Keyword(null,"args","args",1315556576),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391)),new cljs.core.Keyword(null,"ret","ret",-468222814),new cljs.core.Symbol("cljs.core","boolean?","cljs.core/boolean?",1400713761,null))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.ifn_QMARK_,cljs.spec.alpha.fspec_impl.call(null,cljs.spec.alpha.spec_impl.call(null,cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391)),cljs.spec.alpha.cat_impl.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"herd","herd",783636970)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391)], null)),null,null),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391)),cljs.spec.alpha.spec_impl.call(null,new cljs.core.Symbol("cljs.core","boolean?","cljs.core/boolean?",1400713761,null),cljs.core.boolean_QMARK_,null,null),new cljs.core.Symbol("cljs.core","boolean?","cljs.core/boolean?",1400713761,null),null,null,null)], null),null));
cljs.spec.alpha.def_impl.call(null,new cljs.core.Keyword("the-longtime-game.project","text-fn","the-longtime-game.project/text-fn",-1425140054),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","fspec","cljs.spec.alpha/fspec",-1289128341,null),new cljs.core.Keyword(null,"args","args",1315556576),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391)),new cljs.core.Keyword(null,"ret","ret",-468222814),new cljs.core.Symbol("cljs.core","string?","cljs.core/string?",-2072921719,null)),cljs.spec.alpha.fspec_impl.call(null,cljs.spec.alpha.spec_impl.call(null,cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391)),cljs.spec.alpha.cat_impl.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"herd","herd",783636970)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391)], null)),null,null),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391)),cljs.spec.alpha.spec_impl.call(null,new cljs.core.Symbol("cljs.core","string?","cljs.core/string?",-2072921719,null),cljs.core.string_QMARK_,null,null),new cljs.core.Symbol("cljs.core","string?","cljs.core/string?",-2072921719,null),null,null,null));
cljs.spec.alpha.def_impl.call(null,new cljs.core.Keyword("the-longtime-game.project","effect","the-longtime-game.project/effect",1880242950),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","or","cljs.spec.alpha/or",-831679639,null),new cljs.core.Keyword(null,"fn","fn",-1175266204),new cljs.core.Symbol("cljs.core","ifn?","cljs.core/ifn?",1573873861,null),new cljs.core.Keyword(null,"fn*","fn*",1901558924),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","fspec","cljs.spec.alpha/fspec",-1289128341,null),new cljs.core.Keyword(null,"args","args",1315556576),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),new cljs.core.Keyword(null,"skill","skill",155065636),new cljs.core.Symbol("cljs.core","nat-int?","cljs.core/nat-int?",-164364171,null)),new cljs.core.Keyword(null,"ret","ret",-468222814),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391))),cljs.spec.alpha.or_spec_impl.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"fn","fn",-1175266204),new cljs.core.Keyword(null,"fn*","fn*",1901558924)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol("cljs.core","ifn?","cljs.core/ifn?",1573873861,null),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","fspec","cljs.spec.alpha/fspec",-1289128341,null),new cljs.core.Keyword(null,"args","args",1315556576),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),new cljs.core.Keyword(null,"skill","skill",155065636),new cljs.core.Symbol("cljs.core","nat-int?","cljs.core/nat-int?",-164364171,null)),new cljs.core.Keyword(null,"ret","ret",-468222814),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.ifn_QMARK_,cljs.spec.alpha.fspec_impl.call(null,cljs.spec.alpha.spec_impl.call(null,cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),new cljs.core.Keyword(null,"skill","skill",155065636),new cljs.core.Symbol("cljs.core","nat-int?","cljs.core/nat-int?",-164364171,null)),cljs.spec.alpha.cat_impl.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword(null,"skill","skill",155065636)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),cljs.core.nat_int_QMARK_], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),new cljs.core.Symbol("cljs.core","nat-int?","cljs.core/nat-int?",-164364171,null)], null)),null,null),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),new cljs.core.Keyword(null,"skill","skill",155065636),new cljs.core.Symbol("cljs.core","nat-int?","cljs.core/nat-int?",-164364171,null)),cljs.spec.alpha.spec_impl.call(null,new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),null,null),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),null,null,null)], null),null));
cljs.spec.alpha.def_impl.call(null,new cljs.core.Keyword("the-longtime-game.project","location-effect","the-longtime-game.project/location-effect",1420077053),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","or","cljs.spec.alpha/or",-831679639,null),new cljs.core.Keyword(null,"fn","fn",-1175266204),new cljs.core.Symbol("cljs.core","ifn?","cljs.core/ifn?",1573873861,null),new cljs.core.Keyword(null,"fn*","fn*",1901558924),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","fspec","cljs.spec.alpha/fspec",-1289128341,null),new cljs.core.Keyword(null,"args","args",1315556576),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"location","location",1815599388),new cljs.core.Keyword("the-longtime-game.core","location","the-longtime-game.core/location",2061417039)),new cljs.core.Keyword(null,"ret","ret",-468222814),new cljs.core.Keyword("the-longtime-game.core","location","the-longtime-game.core/location",2061417039))),cljs.spec.alpha.or_spec_impl.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"fn","fn",-1175266204),new cljs.core.Keyword(null,"fn*","fn*",1901558924)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol("cljs.core","ifn?","cljs.core/ifn?",1573873861,null),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","fspec","cljs.spec.alpha/fspec",-1289128341,null),new cljs.core.Keyword(null,"args","args",1315556576),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"location","location",1815599388),new cljs.core.Keyword("the-longtime-game.core","location","the-longtime-game.core/location",2061417039)),new cljs.core.Keyword(null,"ret","ret",-468222814),new cljs.core.Keyword("the-longtime-game.core","location","the-longtime-game.core/location",2061417039))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.ifn_QMARK_,cljs.spec.alpha.fspec_impl.call(null,cljs.spec.alpha.spec_impl.call(null,cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"location","location",1815599388),new cljs.core.Keyword("the-longtime-game.core","location","the-longtime-game.core/location",2061417039)),cljs.spec.alpha.cat_impl.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"location","location",1815599388)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","location","the-longtime-game.core/location",2061417039)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","location","the-longtime-game.core/location",2061417039)], null)),null,null),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"location","location",1815599388),new cljs.core.Keyword("the-longtime-game.core","location","the-longtime-game.core/location",2061417039)),cljs.spec.alpha.spec_impl.call(null,new cljs.core.Keyword("the-longtime-game.core","location","the-longtime-game.core/location",2061417039),new cljs.core.Keyword("the-longtime-game.core","location","the-longtime-game.core/location",2061417039),null,null),new cljs.core.Keyword("the-longtime-game.core","location","the-longtime-game.core/location",2061417039),null,null,null)], null),null));
cljs.spec.alpha.def_impl.call(null,new cljs.core.Keyword("the-longtime-game.project","project","the-longtime-game.project/project",-526722678),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","with-gen","cljs.spec.alpha/with-gen",1999495028,null),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","name","the-longtime-game.core/name",2072164766),new cljs.core.Keyword("the-longtime-game.core","uses","the-longtime-game.core/uses",924260321)], null),new cljs.core.Keyword(null,"opt-un","opt-un",883442496),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.project","description","the-longtime-game.project/description",1283135061),new cljs.core.Keyword("the-longtime-game.project","detail","the-longtime-game.project/detail",2122455228),new cljs.core.Keyword("the-longtime-game.select","filter","the-longtime-game.select/filter",-962220350),new cljs.core.Keyword("the-longtime-game.project","filter-fn","the-longtime-game.project/filter-fn",164694968),new cljs.core.Keyword("the-longtime-game.project","text-fn","the-longtime-game.project/text-fn",-1425140054),new cljs.core.Keyword("the-longtime-game.project","effect","the-longtime-game.project/effect",1880242950),new cljs.core.Keyword("the-longtime-game.project","location-effect","the-longtime-game.project/location-effect",1420077053)], null)),cljs.core.list(new cljs.core.Symbol(null,"fn*","fn*",-752876845,null),cljs.core.PersistentVector.EMPTY,cljs.core.list(new cljs.core.Symbol("cljs.spec.gen.alpha","elements","cljs.spec.gen.alpha/elements",749148929,null),new cljs.core.Symbol("the-longtime-game.project","projects","the-longtime-game.project/projects",787422051,null)))),cljs.spec.alpha.with_gen.call(null,cljs.spec.alpha.map_spec_impl.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.Keyword(null,"opt-un","opt-un",883442496),new cljs.core.Keyword(null,"gfn","gfn",791517474),new cljs.core.Keyword(null,"pred-exprs","pred-exprs",1792271395),new cljs.core.Keyword(null,"keys-pred","keys-pred",858984739),new cljs.core.Keyword(null,"opt-keys","opt-keys",1262688261),new cljs.core.Keyword(null,"req-specs","req-specs",553962313),new cljs.core.Keyword(null,"req","req",-326448303),new cljs.core.Keyword(null,"req-keys","req-keys",514319221),new cljs.core.Keyword(null,"opt-specs","opt-specs",-384905450),new cljs.core.Keyword(null,"pred-forms","pred-forms",172611832),new cljs.core.Keyword(null,"opt","opt",-794706369)],[new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","name","the-longtime-game.core/name",2072164766),new cljs.core.Keyword("the-longtime-game.core","uses","the-longtime-game.core/uses",924260321)], null),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.project","description","the-longtime-game.project/description",1283135061),new cljs.core.Keyword("the-longtime-game.project","detail","the-longtime-game.project/detail",2122455228),new cljs.core.Keyword("the-longtime-game.select","filter","the-longtime-game.select/filter",-962220350),new cljs.core.Keyword("the-longtime-game.project","filter-fn","the-longtime-game.project/filter-fn",164694968),new cljs.core.Keyword("the-longtime-game.project","text-fn","the-longtime-game.project/text-fn",-1425140054),new cljs.core.Keyword("the-longtime-game.project","effect","the-longtime-game.project/effect",1880242950),new cljs.core.Keyword("the-longtime-game.project","location-effect","the-longtime-game.project/location-effect",1420077053)], null),null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (G__3078){
return cljs.core.map_QMARK_.call(null,G__3078);
}),(function (G__3078){
return cljs.core.contains_QMARK_.call(null,G__3078,new cljs.core.Keyword(null,"name","name",1843675177));
}),(function (G__3078){
return cljs.core.contains_QMARK_.call(null,G__3078,new cljs.core.Keyword(null,"uses","uses",232664692));
})], null),(function (G__3078){
return ((cljs.core.map_QMARK_.call(null,G__3078)) && (((cljs.core.contains_QMARK_.call(null,G__3078,new cljs.core.Keyword(null,"name","name",1843675177))) && (cljs.core.contains_QMARK_.call(null,G__3078,new cljs.core.Keyword(null,"uses","uses",232664692))))));
}),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"description","description",-1428560544),new cljs.core.Keyword(null,"detail","detail",-1545345025),new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.Keyword(null,"filter-fn","filter-fn",1689475675),new cljs.core.Keyword(null,"text-fn","text-fn",1202470087),new cljs.core.Keyword(null,"effect","effect",347343289),new cljs.core.Keyword(null,"location-effect","location-effect",-1371252676)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","name","the-longtime-game.core/name",2072164766),new cljs.core.Keyword("the-longtime-game.core","uses","the-longtime-game.core/uses",924260321)], null),null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"uses","uses",232664692)], null),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.project","description","the-longtime-game.project/description",1283135061),new cljs.core.Keyword("the-longtime-game.project","detail","the-longtime-game.project/detail",2122455228),new cljs.core.Keyword("the-longtime-game.select","filter","the-longtime-game.select/filter",-962220350),new cljs.core.Keyword("the-longtime-game.project","filter-fn","the-longtime-game.project/filter-fn",164694968),new cljs.core.Keyword("the-longtime-game.project","text-fn","the-longtime-game.project/text-fn",-1425140054),new cljs.core.Keyword("the-longtime-game.project","effect","the-longtime-game.project/effect",1880242950),new cljs.core.Keyword("the-longtime-game.project","location-effect","the-longtime-game.project/location-effect",1420077053)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),new cljs.core.Symbol(null,"%","%",-950237169,null))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"name","name",1843675177))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"uses","uses",232664692)))], null),null])),(function (){
return cljs.spec.gen.alpha.elements.call(null,the_longtime_game.project.projects);
})));
the_longtime_game.project.distribute_experience = (function the_longtime_game$project$distribute_experience(herd,p__3079){
var map__3080 = p__3079;
var map__3080__$1 = cljs.core.__destructure_map.call(null,map__3080);
var uses = cljs.core.get.call(null,map__3080__$1,new cljs.core.Keyword(null,"uses","uses",232664692));
var update_passions = (function (individual){
var temp__5802__auto__ = (function (){var and__5043__auto__ = (cljs.core.rand_int.call(null,the_longtime_game.core.passion_rate) === (0));
if(and__5043__auto__){
return the_longtime_game.core.becomes_passionate_QMARK_.call(null,uses,individual);
} else {
return and__5043__auto__;
}
})();
if(cljs.core.truth_(temp__5802__auto__)){
var skill = temp__5802__auto__;
return cljs.core.update.call(null,individual,new cljs.core.Keyword(null,"passions","passions",706358765),cljs.core.conj,skill);
} else {
return individual;
}
});
var update_proficiency = (function (individual){
var temp__5802__auto__ = the_longtime_game.core.gains_experience_QMARK_.call(null,herd,uses,individual);
if(cljs.core.truth_(temp__5802__auto__)){
var skill = temp__5802__auto__;
return cljs.core.update_in.call(null,individual,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"skills","skills",958701426),skill], null),cljs.core.inc);
} else {
return individual;
}
});
var update_individual = cljs.core.comp.call(null,update_proficiency,update_passions);
return cljs.core.update.call(null,herd,new cljs.core.Keyword(null,"individuals","individuals",600504845),cljs.core.partial.call(null,cljs.core.map,update_individual));
});
cljs.spec.alpha.def_impl.call(null,new cljs.core.Symbol("the-longtime-game.project","distribute-experience","the-longtime-game.project/distribute-experience",-958036638,null),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","fspec","cljs.spec.alpha/fspec",-1289128341,null),new cljs.core.Keyword(null,"args","args",1315556576),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","syndicates","the-longtime-game.core/syndicates",-1633666705),new cljs.core.Keyword("the-longtime-game.core","individuals","the-longtime-game.core/individuals",948236450)], null)),new cljs.core.Keyword(null,"project","project",1124394579),new cljs.core.Keyword("the-longtime-game.project","project","the-longtime-game.project/project",-526722678)),new cljs.core.Keyword(null,"ret","ret",-468222814),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","syndicates","the-longtime-game.core/syndicates",-1633666705),new cljs.core.Keyword("the-longtime-game.core","individuals","the-longtime-game.core/individuals",948236450)], null))),cljs.spec.alpha.fspec_impl.call(null,cljs.spec.alpha.spec_impl.call(null,cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","syndicates","the-longtime-game.core/syndicates",-1633666705),new cljs.core.Keyword("the-longtime-game.core","individuals","the-longtime-game.core/individuals",948236450)], null)),new cljs.core.Keyword(null,"project","project",1124394579),new cljs.core.Keyword("the-longtime-game.project","project","the-longtime-game.project/project",-526722678)),cljs.spec.alpha.cat_impl.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword(null,"project","project",1124394579)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.spec.alpha.map_spec_impl.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.Keyword(null,"opt-un","opt-un",883442496),new cljs.core.Keyword(null,"gfn","gfn",791517474),new cljs.core.Keyword(null,"pred-exprs","pred-exprs",1792271395),new cljs.core.Keyword(null,"keys-pred","keys-pred",858984739),new cljs.core.Keyword(null,"opt-keys","opt-keys",1262688261),new cljs.core.Keyword(null,"req-specs","req-specs",553962313),new cljs.core.Keyword(null,"req","req",-326448303),new cljs.core.Keyword(null,"req-keys","req-keys",514319221),new cljs.core.Keyword(null,"opt-specs","opt-specs",-384905450),new cljs.core.Keyword(null,"pred-forms","pred-forms",172611832),new cljs.core.Keyword(null,"opt","opt",-794706369)],[new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","syndicates","the-longtime-game.core/syndicates",-1633666705),new cljs.core.Keyword("the-longtime-game.core","individuals","the-longtime-game.core/individuals",948236450)], null),null,null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (G__3081){
return cljs.core.map_QMARK_.call(null,G__3081);
}),(function (G__3081){
return cljs.core.contains_QMARK_.call(null,G__3081,new cljs.core.Keyword(null,"syndicates","syndicates",-1258749316));
}),(function (G__3081){
return cljs.core.contains_QMARK_.call(null,G__3081,new cljs.core.Keyword(null,"individuals","individuals",600504845));
})], null),(function (G__3081){
return ((cljs.core.map_QMARK_.call(null,G__3081)) && (((cljs.core.contains_QMARK_.call(null,G__3081,new cljs.core.Keyword(null,"syndicates","syndicates",-1258749316))) && (cljs.core.contains_QMARK_.call(null,G__3081,new cljs.core.Keyword(null,"individuals","individuals",600504845))))));
}),cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","syndicates","the-longtime-game.core/syndicates",-1633666705),new cljs.core.Keyword("the-longtime-game.core","individuals","the-longtime-game.core/individuals",948236450)], null),null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"syndicates","syndicates",-1258749316),new cljs.core.Keyword(null,"individuals","individuals",600504845)], null),cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),new cljs.core.Symbol(null,"%","%",-950237169,null))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"syndicates","syndicates",-1258749316))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"individuals","individuals",600504845)))], null),null])),new cljs.core.Keyword("the-longtime-game.project","project","the-longtime-game.project/project",-526722678)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","syndicates","the-longtime-game.core/syndicates",-1633666705),new cljs.core.Keyword("the-longtime-game.core","individuals","the-longtime-game.core/individuals",948236450)], null)),new cljs.core.Keyword("the-longtime-game.project","project","the-longtime-game.project/project",-526722678)], null)),null,null),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","syndicates","the-longtime-game.core/syndicates",-1633666705),new cljs.core.Keyword("the-longtime-game.core","individuals","the-longtime-game.core/individuals",948236450)], null)),new cljs.core.Keyword(null,"project","project",1124394579),new cljs.core.Keyword("the-longtime-game.project","project","the-longtime-game.project/project",-526722678)),cljs.spec.alpha.spec_impl.call(null,cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","syndicates","the-longtime-game.core/syndicates",-1633666705),new cljs.core.Keyword("the-longtime-game.core","individuals","the-longtime-game.core/individuals",948236450)], null)),cljs.spec.alpha.map_spec_impl.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.Keyword(null,"opt-un","opt-un",883442496),new cljs.core.Keyword(null,"gfn","gfn",791517474),new cljs.core.Keyword(null,"pred-exprs","pred-exprs",1792271395),new cljs.core.Keyword(null,"keys-pred","keys-pred",858984739),new cljs.core.Keyword(null,"opt-keys","opt-keys",1262688261),new cljs.core.Keyword(null,"req-specs","req-specs",553962313),new cljs.core.Keyword(null,"req","req",-326448303),new cljs.core.Keyword(null,"req-keys","req-keys",514319221),new cljs.core.Keyword(null,"opt-specs","opt-specs",-384905450),new cljs.core.Keyword(null,"pred-forms","pred-forms",172611832),new cljs.core.Keyword(null,"opt","opt",-794706369)],[new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","syndicates","the-longtime-game.core/syndicates",-1633666705),new cljs.core.Keyword("the-longtime-game.core","individuals","the-longtime-game.core/individuals",948236450)], null),null,null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (G__3082){
return cljs.core.map_QMARK_.call(null,G__3082);
}),(function (G__3082){
return cljs.core.contains_QMARK_.call(null,G__3082,new cljs.core.Keyword(null,"syndicates","syndicates",-1258749316));
}),(function (G__3082){
return cljs.core.contains_QMARK_.call(null,G__3082,new cljs.core.Keyword(null,"individuals","individuals",600504845));
})], null),(function (G__3082){
return ((cljs.core.map_QMARK_.call(null,G__3082)) && (((cljs.core.contains_QMARK_.call(null,G__3082,new cljs.core.Keyword(null,"syndicates","syndicates",-1258749316))) && (cljs.core.contains_QMARK_.call(null,G__3082,new cljs.core.Keyword(null,"individuals","individuals",600504845))))));
}),cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","syndicates","the-longtime-game.core/syndicates",-1633666705),new cljs.core.Keyword("the-longtime-game.core","individuals","the-longtime-game.core/individuals",948236450)], null),null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"syndicates","syndicates",-1258749316),new cljs.core.Keyword(null,"individuals","individuals",600504845)], null),cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),new cljs.core.Symbol(null,"%","%",-950237169,null))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"syndicates","syndicates",-1258749316))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"individuals","individuals",600504845)))], null),null])),null,null),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","syndicates","the-longtime-game.core/syndicates",-1633666705),new cljs.core.Keyword("the-longtime-game.core","individuals","the-longtime-game.core/individuals",948236450)], null)),null,null,null));
the_longtime_game.project.distribute_fulfillment = (function the_longtime_game$project$distribute_fulfillment(herd,p__3083){
var map__3084 = p__3083;
var map__3084__$1 = cljs.core.__destructure_map.call(null,map__3084);
var uses = cljs.core.get.call(null,map__3084__$1,new cljs.core.Keyword(null,"uses","uses",232664692));
return cljs.core.update.call(null,herd,new cljs.core.Keyword(null,"individuals","individuals",600504845),cljs.core.partial.call(null,cljs.core.map,cljs.core.partial.call(null,the_longtime_game.core.update_individual_fulfillment,uses)));
});
cljs.spec.alpha.def_impl.call(null,new cljs.core.Symbol("the-longtime-game.project","distribute-fulfillment","the-longtime-game.project/distribute-fulfillment",-1675568181,null),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","fspec","cljs.spec.alpha/fspec",-1289128341,null),new cljs.core.Keyword(null,"args","args",1315556576),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","individuals","the-longtime-game.core/individuals",948236450)], null)),new cljs.core.Keyword(null,"project","project",1124394579),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","uses","the-longtime-game.core/uses",924260321)], null))),new cljs.core.Keyword(null,"ret","ret",-468222814),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","individuals","the-longtime-game.core/individuals",948236450)], null))),cljs.spec.alpha.fspec_impl.call(null,cljs.spec.alpha.spec_impl.call(null,cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","individuals","the-longtime-game.core/individuals",948236450)], null)),new cljs.core.Keyword(null,"project","project",1124394579),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","uses","the-longtime-game.core/uses",924260321)], null))),cljs.spec.alpha.cat_impl.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword(null,"project","project",1124394579)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.spec.alpha.map_spec_impl.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.Keyword(null,"opt-un","opt-un",883442496),new cljs.core.Keyword(null,"gfn","gfn",791517474),new cljs.core.Keyword(null,"pred-exprs","pred-exprs",1792271395),new cljs.core.Keyword(null,"keys-pred","keys-pred",858984739),new cljs.core.Keyword(null,"opt-keys","opt-keys",1262688261),new cljs.core.Keyword(null,"req-specs","req-specs",553962313),new cljs.core.Keyword(null,"req","req",-326448303),new cljs.core.Keyword(null,"req-keys","req-keys",514319221),new cljs.core.Keyword(null,"opt-specs","opt-specs",-384905450),new cljs.core.Keyword(null,"pred-forms","pred-forms",172611832),new cljs.core.Keyword(null,"opt","opt",-794706369)],[new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","individuals","the-longtime-game.core/individuals",948236450)], null),null,null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (G__3085){
return cljs.core.map_QMARK_.call(null,G__3085);
}),(function (G__3085){
return cljs.core.contains_QMARK_.call(null,G__3085,new cljs.core.Keyword(null,"individuals","individuals",600504845));
})], null),(function (G__3085){
return ((cljs.core.map_QMARK_.call(null,G__3085)) && (cljs.core.contains_QMARK_.call(null,G__3085,new cljs.core.Keyword(null,"individuals","individuals",600504845))));
}),cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","individuals","the-longtime-game.core/individuals",948236450)], null),null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"individuals","individuals",600504845)], null),cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),new cljs.core.Symbol(null,"%","%",-950237169,null))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"individuals","individuals",600504845)))], null),null])),cljs.spec.alpha.map_spec_impl.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.Keyword(null,"opt-un","opt-un",883442496),new cljs.core.Keyword(null,"gfn","gfn",791517474),new cljs.core.Keyword(null,"pred-exprs","pred-exprs",1792271395),new cljs.core.Keyword(null,"keys-pred","keys-pred",858984739),new cljs.core.Keyword(null,"opt-keys","opt-keys",1262688261),new cljs.core.Keyword(null,"req-specs","req-specs",553962313),new cljs.core.Keyword(null,"req","req",-326448303),new cljs.core.Keyword(null,"req-keys","req-keys",514319221),new cljs.core.Keyword(null,"opt-specs","opt-specs",-384905450),new cljs.core.Keyword(null,"pred-forms","pred-forms",172611832),new cljs.core.Keyword(null,"opt","opt",-794706369)],[new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","uses","the-longtime-game.core/uses",924260321)], null),null,null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (G__3086){
return cljs.core.map_QMARK_.call(null,G__3086);
}),(function (G__3086){
return cljs.core.contains_QMARK_.call(null,G__3086,new cljs.core.Keyword(null,"uses","uses",232664692));
})], null),(function (G__3086){
return ((cljs.core.map_QMARK_.call(null,G__3086)) && (cljs.core.contains_QMARK_.call(null,G__3086,new cljs.core.Keyword(null,"uses","uses",232664692))));
}),cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","uses","the-longtime-game.core/uses",924260321)], null),null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"uses","uses",232664692)], null),cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),new cljs.core.Symbol(null,"%","%",-950237169,null))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"uses","uses",232664692)))], null),null]))], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","individuals","the-longtime-game.core/individuals",948236450)], null)),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","uses","the-longtime-game.core/uses",924260321)], null))], null)),null,null),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","individuals","the-longtime-game.core/individuals",948236450)], null)),new cljs.core.Keyword(null,"project","project",1124394579),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","uses","the-longtime-game.core/uses",924260321)], null))),cljs.spec.alpha.spec_impl.call(null,cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","individuals","the-longtime-game.core/individuals",948236450)], null)),cljs.spec.alpha.map_spec_impl.call(null,cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.Keyword(null,"opt-un","opt-un",883442496),new cljs.core.Keyword(null,"gfn","gfn",791517474),new cljs.core.Keyword(null,"pred-exprs","pred-exprs",1792271395),new cljs.core.Keyword(null,"keys-pred","keys-pred",858984739),new cljs.core.Keyword(null,"opt-keys","opt-keys",1262688261),new cljs.core.Keyword(null,"req-specs","req-specs",553962313),new cljs.core.Keyword(null,"req","req",-326448303),new cljs.core.Keyword(null,"req-keys","req-keys",514319221),new cljs.core.Keyword(null,"opt-specs","opt-specs",-384905450),new cljs.core.Keyword(null,"pred-forms","pred-forms",172611832),new cljs.core.Keyword(null,"opt","opt",-794706369)],[new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","individuals","the-longtime-game.core/individuals",948236450)], null),null,null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (G__3087){
return cljs.core.map_QMARK_.call(null,G__3087);
}),(function (G__3087){
return cljs.core.contains_QMARK_.call(null,G__3087,new cljs.core.Keyword(null,"individuals","individuals",600504845));
})], null),(function (G__3087){
return ((cljs.core.map_QMARK_.call(null,G__3087)) && (cljs.core.contains_QMARK_.call(null,G__3087,new cljs.core.Keyword(null,"individuals","individuals",600504845))));
}),cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","individuals","the-longtime-game.core/individuals",948236450)], null),null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"individuals","individuals",600504845)], null),cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),new cljs.core.Symbol(null,"%","%",-950237169,null))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"individuals","individuals",600504845)))], null),null])),null,null),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","individuals","the-longtime-game.core/individuals",948236450)], null)),null,null,null));
the_longtime_game.project.can_enact_QMARK_ = (function the_longtime_game$project$can_enact_QMARK_(herd,p__3088){
var map__3089 = p__3088;
var map__3089__$1 = cljs.core.__destructure_map.call(null,map__3089);
var project = map__3089__$1;
var filter_fn = cljs.core.get.call(null,map__3089__$1,new cljs.core.Keyword(null,"filter-fn","filter-fn",1689475675));
var and__5043__auto__ = the_longtime_game.select.passes_filter_QMARK_.call(null,herd,new cljs.core.Keyword(null,"filter","filter",-948537934).cljs$core$IFn$_invoke$arity$2(project,cljs.core.PersistentArrayMap.EMPTY));
if(cljs.core.truth_(and__5043__auto__)){
if(cljs.core.truth_(filter_fn)){
return filter_fn.call(null,herd);
} else {
return true;
}
} else {
return and__5043__auto__;
}
});
cljs.spec.alpha.def_impl.call(null,new cljs.core.Symbol("the-longtime-game.project","can-enact?","the-longtime-game.project/can-enact?",-1244219858,null),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","fspec","cljs.spec.alpha/fspec",-1289128341,null),new cljs.core.Keyword(null,"args","args",1315556576),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),new cljs.core.Keyword(null,"project","project",1124394579),new cljs.core.Keyword("the-longtime-game.project","project","the-longtime-game.project/project",-526722678)),new cljs.core.Keyword(null,"ret","ret",-468222814),new cljs.core.Symbol("cljs.core","boolean?","cljs.core/boolean?",1400713761,null)),cljs.spec.alpha.fspec_impl.call(null,cljs.spec.alpha.spec_impl.call(null,cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),new cljs.core.Keyword(null,"project","project",1124394579),new cljs.core.Keyword("the-longtime-game.project","project","the-longtime-game.project/project",-526722678)),cljs.spec.alpha.cat_impl.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword(null,"project","project",1124394579)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),new cljs.core.Keyword("the-longtime-game.project","project","the-longtime-game.project/project",-526722678)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),new cljs.core.Keyword("the-longtime-game.project","project","the-longtime-game.project/project",-526722678)], null)),null,null),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),new cljs.core.Keyword(null,"project","project",1124394579),new cljs.core.Keyword("the-longtime-game.project","project","the-longtime-game.project/project",-526722678)),cljs.spec.alpha.spec_impl.call(null,new cljs.core.Symbol("cljs.core","boolean?","cljs.core/boolean?",1400713761,null),cljs.core.boolean_QMARK_,null,null),new cljs.core.Symbol("cljs.core","boolean?","cljs.core/boolean?",1400713761,null),null,null,null));
the_longtime_game.project.enact_project = (function the_longtime_game$project$enact_project(herd,p__3092){
var map__3093 = p__3092;
var map__3093__$1 = cljs.core.__destructure_map.call(null,map__3093);
var project = map__3093__$1;
var uses = cljs.core.get.call(null,map__3093__$1,new cljs.core.Keyword(null,"uses","uses",232664692));
var effect = cljs.core.get.call(null,map__3093__$1,new cljs.core.Keyword(null,"effect","effect",347343289));
var location_effect = cljs.core.get.call(null,map__3093__$1,new cljs.core.Keyword(null,"location-effect","location-effect",-1371252676));
var skill_amount = ((cljs.core.seq.call(null,uses))?(function (){var $ = cljs.core.partial.call(null,the_longtime_game.core.collective_skill,herd);
var $__$1 = cljs.core.map.call(null,$,uses);
var $__$2 = cljs.core.reduce.call(null,cljs.core._PLUS_,$__$1);
return ($__$2 / cljs.core.count.call(null,uses));
})():(0));
var stores_filter = cljs.core.get_in.call(null,project,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.Keyword(null,"stores","stores",1203804823)], null));
var update_stores = (function (p1__3090_SHARP_){
return cljs.core.reduce.call(null,(function (herd__$1,p__3094){
var vec__3095 = p__3094;
var resource = cljs.core.nth.call(null,vec__3095,(0),null);
var required = cljs.core.nth.call(null,vec__3095,(1),null);
if(cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"nutrition","nutrition",928000668),resource)){
return the_longtime_game.core.consume_nutrition.call(null,herd__$1,required);
} else {
var amount = ((((((1) > required)) && ((required > (0)))))?((required * cljs.core.count.call(null,new cljs.core.Keyword(null,"individuals","individuals",600504845).cljs$core$IFn$_invoke$arity$1(herd__$1))) | (0)):required);
return cljs.core.update_in.call(null,herd__$1,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"stores","stores",1203804823),resource], null),cljs.core._,amount);
}
}),p1__3090_SHARP_,stores_filter);
});
var power_filter = cljs.core.get_in.call(null,project,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"filter","filter",-948537934),new cljs.core.Keyword(null,"power","power",-937852079)], null));
var update_power = (function (p1__3091_SHARP_){
return the_longtime_game.core.update_current_location.call(null,p1__3091_SHARP_,(function (location){
return cljs.core.update.call(null,location,new cljs.core.Keyword(null,"power","power",-937852079),cljs.core._,power_filter);
}));
});
var G__3098 = herd;
var G__3098__$1 = (cljs.core.truth_(effect)?effect.call(null,G__3098,skill_amount):G__3098);
var G__3098__$2 = (cljs.core.truth_(location_effect)?the_longtime_game.core.update_current_location.call(null,G__3098__$1,location_effect):G__3098__$1);
var G__3098__$3 = (cljs.core.truth_(stores_filter)?update_stores.call(null,G__3098__$2):G__3098__$2);
if(cljs.core.truth_(power_filter)){
return update_power.call(null,G__3098__$3);
} else {
return G__3098__$3;
}
});
cljs.spec.alpha.def_impl.call(null,new cljs.core.Symbol("the-longtime-game.project","enact-project","the-longtime-game.project/enact-project",1740238426,null),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","fspec","cljs.spec.alpha/fspec",-1289128341,null),new cljs.core.Keyword(null,"args","args",1315556576),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),new cljs.core.Keyword(null,"project","project",1124394579),new cljs.core.Keyword("the-longtime-game.project","project","the-longtime-game.project/project",-526722678)),new cljs.core.Keyword(null,"ret","ret",-468222814),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391)),cljs.spec.alpha.fspec_impl.call(null,cljs.spec.alpha.spec_impl.call(null,cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),new cljs.core.Keyword(null,"project","project",1124394579),new cljs.core.Keyword("the-longtime-game.project","project","the-longtime-game.project/project",-526722678)),cljs.spec.alpha.cat_impl.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword(null,"project","project",1124394579)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),new cljs.core.Keyword("the-longtime-game.project","project","the-longtime-game.project/project",-526722678)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),new cljs.core.Keyword("the-longtime-game.project","project","the-longtime-game.project/project",-526722678)], null)),null,null),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),new cljs.core.Keyword(null,"project","project",1124394579),new cljs.core.Keyword("the-longtime-game.project","project","the-longtime-game.project/project",-526722678)),cljs.spec.alpha.spec_impl.call(null,new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),null,null),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),null,null,null));
the_longtime_game.project.do_project = (function the_longtime_game$project$do_project(herd,project){
return the_longtime_game.project.distribute_fulfillment.call(null,the_longtime_game.project.distribute_experience.call(null,the_longtime_game.project.enact_project.call(null,herd,project),project),project);
});
cljs.spec.alpha.def_impl.call(null,new cljs.core.Symbol("the-longtime-game.project","do-project","the-longtime-game.project/do-project",-1147262632,null),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","fspec","cljs.spec.alpha/fspec",-1289128341,null),new cljs.core.Keyword(null,"args","args",1315556576),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),new cljs.core.Keyword(null,"project","project",1124394579),new cljs.core.Keyword("the-longtime-game.project","project","the-longtime-game.project/project",-526722678)),new cljs.core.Keyword(null,"ret","ret",-468222814),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391)),cljs.spec.alpha.fspec_impl.call(null,cljs.spec.alpha.spec_impl.call(null,cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),new cljs.core.Keyword(null,"project","project",1124394579),new cljs.core.Keyword("the-longtime-game.project","project","the-longtime-game.project/project",-526722678)),cljs.spec.alpha.cat_impl.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword(null,"project","project",1124394579)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),new cljs.core.Keyword("the-longtime-game.project","project","the-longtime-game.project/project",-526722678)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),new cljs.core.Keyword("the-longtime-game.project","project","the-longtime-game.project/project",-526722678)], null)),null,null),cljs.core.list(new cljs.core.Symbol("cljs.spec.alpha","cat","cljs.spec.alpha/cat",-1471398329,null),new cljs.core.Keyword(null,"herd","herd",783636970),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),new cljs.core.Keyword(null,"project","project",1124394579),new cljs.core.Keyword("the-longtime-game.project","project","the-longtime-game.project/project",-526722678)),cljs.spec.alpha.spec_impl.call(null,new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),null,null),new cljs.core.Keyword("the-longtime-game.core","herd","the-longtime-game.core/herd",604656391),null,null,null));

//# sourceMappingURL=project.js.map
